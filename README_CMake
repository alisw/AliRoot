
Note: The CMake build of AliRoot builds out-of-source

Steps to Build AliRoot with CMake :

1. Check out Aliroot source into any folder
	
	svn co http://alisoft.cern.ch/AliRoot/trunk ~/trunk

2. Create a new folder and set the environment variable ALICE_ROOT to point to it
	
	mkdir AliRoot
	cd AliRoot
	export ALICE_ROOT=`pwd`

3. Execute the following commands to build AliRoot

	cmake <Path to Source>

eg.	cmake ~/trunk
	make

4. In order to build addtional targets like THydjet and SHUTTLE add the following options to the cmake command

	cmake -DTHydjet=ON -DSHUTTLE=ON <path_to_source>

5. Static libraries can be built using

	make alilibs-static

6. Individual Modules can be built using

	make <Module>-all
	make <Module>-all-static 

eg.	make STEER-all STEER-all-static

7. Individual Packages can be built using

	make <Package>
	make <Package>-static

eg.	make STEERbase STEERbase-static

8. The code can be checked for the ALICE coding conventions on a package, module or class level using the following targets. 

  make check-all
  make <Module>-check-all
  make <Package>-check
  make <Module>-<ClassName>-check  // To use this run cmake with -DCLASSCHECK="YES" option. It is turned off by default since it bloats the Makefile and slows down the internal makefile rule checking

  The resulting violations will be written to the folder <Build_Directory>/<Module>/check/viols

9. To Build PARs the following targets can be used. The resulting packages will be created in the cmake build directory

  make par-all 
  make <Package>.par
  make <Module>-par-all   //build all par packages in the module

10. To test PARs after building run

  make test-par-all
  make test-<Package>
  make test-<Module>-par-all

!IMPORTANT! - Make sure your source folder is clean. If you used the old make system to build aliroot run make clean in the source directory before you run cmake
 

