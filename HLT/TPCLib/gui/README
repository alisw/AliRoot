Package: ALICE HLT Online Monitoring GUI

This package implements the ALICE High Level Trigger Online Monitoring GUI.

All contributions are under the terms of the 
GNU General Public License as published by the Free Software 
Foundation. Also see files AUTHORS and THANKS.

This packages is maintained by jochen.thaeder@kip.uni-heidelberg.de
Comments, bug reports, suggestions welcome! 

0.TOC
=====
1.Overview
2.Requirements
4.Setting up a version retrieved from CVS
5.Modifying a distributed package
6.Installation
7.Troubleshooting
8.Documentation
9.Further information
10.Reporting bugs/Asking for support
11.Further internal information

1.Overview
==========
The Online Monitoring GUI is a Front-end for the AliHLTTPCDisplay library.

2.Requirements
==============
- Trolltechs Qt system version 3.3. or higher
- HLT Publisher Subscriber Framework
- The package needs both ROOT and AliRoot. Both must be set up in the
  usual way (ROOTSYS, ALICE_ROOT, library locations evtl. specified in
  LD_LIBRARY_PATH, ...).
- ROOT compiled with Qt support (--enable-qt, --with-qt-...)
- HLT analysis components which are part of AliRoot, but might have to be
  built 'manually'. Check $ALICE_ROOT/HLT/README for installation instructions.

To set up a version retrieved from CVS, autoconf 2.57, automake 1.6
,and libtool 1.4 or higher versions are required. Thats the versions
which come with the Scientific Linux CERN 3. The same applies if
you want to change the Makefiles.

If your GNU build tools are too old, ask the maintainers for a distributed
package.  

4.Setting up a version retrieved from CVS
=========================================
Skip this section if you have started from the tar ball.

A version checked out from CVS requires a few steps to set up the Makefiles.
Go to the directory and run
autoreconf -i -f

Then continue with the package configuration described in the 'Installation'
section.

5.Modifying a distributed package
=================================
If you are going the modify a distributed package you might need to re-make 
the GNU build system by running
 autoreconf -f -i

Please notify the authors about bug fixes/corrections/extensions you made if
you consider them worth to be merged into the project.

Then continue with the package configuration described in the 'Installation'
section.

6.Installation
==============
Package build relies on the GNU triplet configure, make and make install.
In order to keep the development directory clean, it is recommended to
use a separate build directory.

e.g. from the top directory do

  mkdir build
  cd build
  ../configure
  make
  make install

You should redirect the output of the make into a file.
The default install directories are set to the current directory ($PWD).

To override the default prefix use
--prefix=<dir>           

Some important options:
--with-pubsub     # The top dir of the PubSub framework installation
--with-alihlt     # The top dir of the HLT analysis components

Note: You can have several build directories with different configure options,
but using the same source code. 

If you need further information on the GNU build system, execute from the 
top directory:
./configure --help | less


7.Troubleshooting
=================
7.1
configure: error: Stop! The package needs the AliHLTTPCDisplay library.
     Use --with-alihlt option to point to the AliRoot HLT module installation
If you are sure that you specified the correct path with the option
--with-alihlt and that this folder contains the ALICE HLT component framework
installation (remember eventually 'make install'), you can try the option
--disable-strict in order to deactivate the strict checking. Anyhow, send the
config.log together with a command history to the developers (see 10.Reporting
bugs/Asking for support). The same applies if configure complains about HOMER.

7.2
configure: error: Stop! The AliHLTTPCDisplay library must be compiled with HOMER
           support
Check your configure option of the HLT component framework package. Did you
configure with the HLT PubSub framework? If you just compiled everthing in
AliRoot, you might need a re-compilation since we need external packages. Go to
${ALICE_ROOT}/HLT and follow the instructions of the README. Specify $ALICE_ROOT
as installation prefix and the path to the PubSub installation, e.g.
../configure --prefix=$ALICE_ROOT --with-pubsub=<my pubsub installation>

Note: you must change <my pubsub installation>.

7.2
.ui/AliHLTGUIMainForm.cpp:38:23: tqtwidget.h: No such file or directory
This is a bug in the ROOT qt interface, which causes qt uic to include both
TQtWidget.h and tqtwidget.h. But only TQtWidget.h existst. Open the file 
qtbuild/.ui/AliHLTGUIMainForm.cpp in your build directory and delete the line
#include "tqtwidget.h". Unfortunately we can not do more.

7.3
/usr/bin/ld: cannot find -lQtGui
Most likeliy caused by another bug in the root qt interface. Fixed in ROOT
version v5-11-04. To manually fix the problem, set the QTROOTSYSDIR variable
to a directory which DOES NOT exist, e.g. 
setenv QTROOTSYSDIR /this-doesnt-exist #(csh)
export QTROOTSYSDIR=/this-doesnt-exist #(bash)

Note: csh and bash just mark the lines for the two different types of shells,
skip all beginning with the '#'.

8.Documentation
===============
Documentation is generated from the source code at compile time if 
doxygen is installed on the machine. From the build directory, open
doc/html/index.html with a web browser.

9.Further information
=====================
A wiki with detailed information is set up at
http://www.kip.uni-heidelberg.de/wiki/HLT

10.Reporting bugs/Asking for support
===================================
Please include the following information into your request:
- config.log from your build directory
- output of the make process. Note: Redirect BOTH the stdout and stderr
  channel to a log file. Redirection depends on the shell you are using:
    bash: make 2>&1 | tee make.log 
    csh: make |& tee make.log
  The 'tee' command just duplicates the output.

Send the request to
 jochen.thaeder@kip.uni-heidelberg.de
 matthias.richter@ift.uib.no

11.Further internal information
============================ 
To make the 'distcheck' target set the ALIHLT_DC_DIR variable to the HLT PubSub
Framework and the ALIHLT_PREFIX variable to the installation path of the HLT
component framework.
Alternatively on can set the include and libdir for bothe the HLT PubSub and the
HLT component framework in CXXFLAGS and LDFLAGS respectively. Since configure 
does also runtime tests, the library paths for both PubSub and analysis components
 must be added to LD_LIBRARY_PATH. 
