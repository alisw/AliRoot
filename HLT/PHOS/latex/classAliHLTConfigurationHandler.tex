\section{Ali\-HLTConfiguration\-Handler Class Reference}
\label{classAliHLTConfigurationHandler}\index{AliHLTConfigurationHandler@{AliHLTConfigurationHandler}}
{\tt \#include $<$Ali\-HLTConfiguration\-Handler.h$>$}

Inheritance diagram for Ali\-HLTConfiguration\-Handler::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classAliHLTConfigurationHandler}
\end{center}
\end{figure}


\subsection{Detailed Description}
Global Handling of HLT configurations. 

This class implements the global handling of {\bf Ali\-HLTConfiguration}{\rm (p.\,\pageref{classAliHLTConfiguration})} objects. It is a list of all configuartion descriptor currently available in the system. Each {\bf Ali\-HLTConfiguration}{\rm (p.\,\pageref{classAliHLTConfiguration})} object is registerd automatically with the handler and put into the list.

\begin{Desc}
\item[Note:]This class is only used for the {\bf HLT integration into Ali\-Root}{\rm (p.\,\pageref{group__alihlt__system})}. \end{Desc}




Definition at line 31 of file Ali\-HLTConfiguration\-Handler.h.\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTConfiguration\-Handler} ()
\item 
virtual {\bf $\sim$Ali\-HLTConfiguration\-Handler} ()
\item 
int {\bf Register\-Configuration} ({\bf Ali\-HLTConfiguration} $\ast$p\-Conf)
\item 
int {\bf Create\-Configuration} (const char $\ast$id, const char $\ast$component, const char $\ast$sources, const char $\ast$arguments)
\item 
int {\bf Remove\-Configuration} ({\bf Ali\-HLTConfiguration} $\ast$p\-Conf)
\item 
int {\bf Remove\-Configuration} (const char $\ast$id)
\item 
{\bf Ali\-HLTConfiguration} $\ast$ {\bf Find\-Configuration} (const char $\ast$id)
\item 
void {\bf Print\-Configurations} ()
\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
{\bf Class\-Def} ({\bf Ali\-HLTConfiguration\-Handler}, 1)
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
TList {\bf fg\-List\-Configurations}
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!AliHLTConfigurationHandler@{AliHLTConfigurationHandler}}
\index{AliHLTConfigurationHandler@{AliHLTConfigurationHandler}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration\-Handler::Ali\-HLTConfiguration\-Handler ()}\label{classAliHLTConfigurationHandler_a0}


standard constructor \index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!~AliHLTConfigurationHandler@{$\sim$AliHLTConfigurationHandler}}
\index{~AliHLTConfigurationHandler@{$\sim$AliHLTConfigurationHandler}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration\-Handler::$\sim${\bf Ali\-HLTConfiguration\-Handler} ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTConfigurationHandler_a1}


destructor 

Definition at line 1076 of file Ali\-HLTConfiguration.cxx.

References fg\-List\-Configurations, Ali\-HLTConfiguration::Get\-Name(), and HLTDebug.

\footnotesize\begin{verbatim}1077 {
1078   // see header file for function documentation
1079   TObjLink* lnk=NULL;
1080   while (lnk=fgListConfigurations.FirstLink()) {
1081     AliHLTConfiguration* pConf=(AliHLTConfiguration*)lnk->GetObject();
1082     HLTDebug("delete configuration \"%s\"", pConf->GetName());
1083     fgListConfigurations.Remove(lnk);
1084     delete pConf;
1085   }
1086 }
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!ClassDef@{ClassDef}}
\index{ClassDef@{ClassDef}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration\-Handler::Class\-Def ({\bf Ali\-HLTConfiguration\-Handler}, 1)\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfigurationHandler_d0}


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!CreateConfiguration@{CreateConfiguration}}
\index{CreateConfiguration@{CreateConfiguration}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration\-Handler::Create\-Configuration (const char $\ast$ {\em id}, const char $\ast$ {\em component}, const char $\ast$ {\em sources}, const char $\ast$ {\em arguments})}\label{classAliHLTConfigurationHandler_a3}


Create a configuration and register it. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]\item[{\em component}]\item[{\em sources}]\item[{\em arguments}]\end{description}
\end{Desc}


Definition at line 1117 of file Ali\-HLTConfiguration.cxx.

References Find\-Configuration(), and HLTError.

\footnotesize\begin{verbatim}1118 {
1119   // see header file for function documentation
1120   int iResult=0;
1121   AliHLTConfiguration* pConf= new AliHLTConfiguration(id, component, sources, arguments);
1122   if (pConf) {
1123     // the configuration will be registered automatically, if this failes the configuration
1124     // is missing -> delete it
1125     if (FindConfiguration(id)==NULL) {
1126       delete pConf;
1127       pConf=NULL;
1128       iResult=-EEXIST;
1129     }
1130   } else {
1131     HLTError("system error: object allocation failed");
1132     iResult=-ENOMEM;
1133   }
1134   return iResult;
1135 }
\end{verbatim}\normalsize 


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!FindConfiguration@{FindConfiguration}}
\index{FindConfiguration@{FindConfiguration}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration} $\ast$ Ali\-HLTConfiguration\-Handler::Find\-Configuration (const char $\ast$ {\em id})}\label{classAliHLTConfigurationHandler_a6}


Find a configuration from the global list. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]Id of the configuration to find \end{description}
\end{Desc}


Definition at line 1193 of file Ali\-HLTConfiguration.cxx.

References fg\-List\-Configurations.

Referenced by Ali\-HLTSystem::Build\-Task\-List(), Ali\-HLTSystem::Build\-Task\-Lists\-From\-Top\-Configurations(), Create\-Configuration(), Ali\-HLTConfiguration::Extract\-Sources(), Register\-Configuration(), Remove\-Configuration(), and Ali\-HLTConfiguration::$\sim$Ali\-HLTConfiguration().

\footnotesize\begin{verbatim}1194 {
1195   // see header file for function documentation
1196   AliHLTConfiguration* pConf=NULL;
1197   if (id) {
1198     pConf=(AliHLTConfiguration*)fgListConfigurations.FindObject(id); 
1199   }
1200   return pConf;
1201 }
\end{verbatim}\normalsize 


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!PrintConfigurations@{PrintConfigurations}}
\index{PrintConfigurations@{PrintConfigurations}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTConfiguration\-Handler::Print\-Configurations ()}\label{classAliHLTConfigurationHandler_a7}


Print the registered configurations to the logging function. 

Definition at line 1137 of file Ali\-HLTConfiguration.cxx.

References fg\-List\-Configurations, HLTLog\-Keyword, and HLTMessage.

\footnotesize\begin{verbatim}1138 {
1139   // see header file for function documentation
1140   HLTLogKeyword("configuration listing");
1141   HLTMessage("registered configurations:");
1142   TObjLink *lnk = fgListConfigurations.FirstLink();
1143   while (lnk) {
1144     TObject *obj = lnk->GetObject();
1145     HLTMessage("  %s", obj->GetName());
1146     lnk = lnk->Next();
1147   }
1148 }
\end{verbatim}\normalsize 


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!RegisterConfiguration@{RegisterConfiguration}}
\index{RegisterConfiguration@{RegisterConfiguration}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration\-Handler::Register\-Configuration ({\bf Ali\-HLTConfiguration} $\ast$ {\em p\-Conf})}\label{classAliHLTConfigurationHandler_a2}


Register a configuration to the global list of configurations. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Conf}]The configuration to register \end{description}
\end{Desc}


Definition at line 1088 of file Ali\-HLTConfiguration.cxx.

References fg\-List\-Configurations, Find\-Configuration(), Ali\-HLTConfiguration::Get\-Name(), HLTDebug, HLTWarning, Ali\-HLTConfiguration::Invalidate\-Sources(), and Ali\-HLTConfiguration::Sources\-Resolved().

Referenced by Ali\-HLTConfiguration::Ali\-HLTConfiguration().

\footnotesize\begin{verbatim}1089 {
1090   // see header file for function documentation
1091   int iResult=0;
1092   if (pConf) {
1093     if (FindConfiguration(pConf->GetName()) == NULL) {
1094       AliHLTConfiguration* pClone=new AliHLTConfiguration(*pConf);
1095       fgListConfigurations.Add(pClone);
1096       HLTDebug("configuration \"%s\" (%p) registered from %p", pClone->GetName(), pClone, pConf);
1097 
1098       // mark all configurations with unresolved dependencies for re-evaluation
1099       TObjLink* lnk=fgListConfigurations.FirstLink();
1100       while (lnk) {
1101         AliHLTConfiguration* pSrc=(AliHLTConfiguration*)lnk->GetObject();
1102         if (pSrc && pSrc!=pClone && pSrc->SourcesResolved()!=1) {
1103           pSrc->InvalidateSources();
1104         }
1105         lnk=lnk->Next();
1106       }
1107     } else {
1108       iResult=-EEXIST;
1109       HLTWarning("configuration \"%s\" already registered", pConf->GetName());
1110     }
1111   } else {
1112     iResult=-EINVAL;
1113   }
1114   return iResult;
1115 }
\end{verbatim}\normalsize 


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!RemoveConfiguration@{RemoveConfiguration}}
\index{RemoveConfiguration@{RemoveConfiguration}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration\-Handler::Remove\-Configuration (const char $\ast$ {\em id})}\label{classAliHLTConfigurationHandler_a5}


Remove a configuration from the global list. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]The configuration to remove \end{description}
\end{Desc}


Definition at line 1150 of file Ali\-HLTConfiguration.cxx.

References Find\-Configuration(), HLTWarning, and Remove\-Configuration().

\footnotesize\begin{verbatim}1151 {
1152   // see header file for function documentation
1153   int iResult=0;
1154   if (id) {
1155     AliHLTConfiguration* pConf=NULL;
1156     if ((pConf=FindConfiguration(id))!=NULL) {
1157       iResult=RemoveConfiguration(pConf);
1158       delete pConf;
1159       pConf=NULL;
1160     } else {
1161       HLTWarning("can not find configuration \"%s\"", id);
1162       iResult=-ENOENT;
1163     }
1164   } else {
1165     iResult=-EINVAL;
1166   }
1167   return iResult;
1168 }
\end{verbatim}\normalsize 


\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!RemoveConfiguration@{RemoveConfiguration}}
\index{RemoveConfiguration@{RemoveConfiguration}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration\-Handler::Remove\-Configuration ({\bf Ali\-HLTConfiguration} $\ast$ {\em p\-Conf})}\label{classAliHLTConfigurationHandler_a4}


Remove a configuration from the global list. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Conf}]The configuration to remove \end{description}
\end{Desc}


Definition at line 1170 of file Ali\-HLTConfiguration.cxx.

References fg\-List\-Configurations, Ali\-HLTConfiguration::Get\-Name(), HLTDebug, and Ali\-HLTConfiguration::Invalidate\-Source().

Referenced by Remove\-Configuration(), and Ali\-HLTConfiguration::$\sim$Ali\-HLTConfiguration().

\footnotesize\begin{verbatim}1171 {
1172   // see header file for function documentation
1173   int iResult=0;
1174   if (pConf) {
1175     // remove the configuration from the list
1176     HLTDebug("remove configuration \"%s\"", pConf->GetName());
1177     fgListConfigurations.Remove(pConf);
1178     // remove cross links in the remaining configurations
1179     TObjLink* lnk=fgListConfigurations.FirstLink();
1180     while (lnk && iResult>=0) {
1181       AliHLTConfiguration* pRem=(AliHLTConfiguration*)lnk->GetObject();
1182       if (pRem) {
1183         pRem->InvalidateSource(pConf);
1184       } else {
1185         iResult=-EFAULT;
1186       }
1187       lnk=lnk->Next();
1188     }
1189   }
1190   return iResult;
1191 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\index{AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}!fgListConfigurations@{fgListConfigurations}}
\index{fgListConfigurations@{fgListConfigurations}!AliHLTConfigurationHandler@{Ali\-HLTConfiguration\-Handler}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TList {\bf Ali\-HLTConfiguration\-Handler::fg\-List\-Configurations}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfigurationHandler_r0}


the list of registered configurations 

Definition at line 86 of file Ali\-HLTConfiguration\-Handler.h.

Referenced by Find\-Configuration(), Print\-Configurations(), Register\-Configuration(), Remove\-Configuration(), and $\sim$Ali\-HLTConfiguration\-Handler().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
/home/perthi/cern/aliroot/Ali\-Root\_\-head020507/HLT/BASE/{\bf Ali\-HLTConfiguration\-Handler.h}\item 
/home/perthi/cern/aliroot/Ali\-Root\_\-head020507/HLT/BASE/{\bf Ali\-HLTConfiguration.cxx}\end{CompactItemize}
