\section{Ali\-HLTPHOSDDLDecoder\-Component Class Reference}
\label{classAliHLTPHOSDDLDecoderComponent}\index{AliHLTPHOSDDLDecoderComponent@{AliHLTPHOSDDLDecoderComponent}}
{\tt \#include $<$Ali\-HLTPHOSDDLDecoder\-Component.h$>$}

Inheritance diagram for Ali\-HLTPHOSDDLDecoder\-Component::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{classAliHLTPHOSDDLDecoderComponent}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSDDLDecoder\-Component} ()
\item 
virtual {\bf $\sim$Ali\-HLTPHOSDDLDecoder\-Component} ()
\item 
{\bf Ali\-HLTPHOSDDLDecoder\-Component} (const {\bf Ali\-HLTPHOSDDLDecoder\-Component} \&)
\item 
{\bf Ali\-HLTPHOSDDLDecoder\-Component} \& {\bf operator=} (const {\bf Ali\-HLTPHOSDDLDecoder\-Component} \&)
\item 
virtual int {\bf Do\-Init} (int argc, const char $\ast$$\ast$argv)
\item 
virtual int {\bf Deinit} ()
\item 
virtual int {\bf Do\-Deinit} ()
\item 
void {\bf Set\-Equippment\-ID} ({\bf Ali\-HLTUInt16\_\-t} id)
\item 
{\bf Ali\-HLTUInt16\_\-t} {\bf Get\-Equippment\-ID} ()
\item 
void {\bf Set\-Coordinates} ({\bf Ali\-HLTUInt16\_\-t} equippment\-ID)
\item 
virtual const char $\ast$ {\bf Get\-Component\-ID} ()
\item 
virtual void {\bf Get\-Input\-Data\-Types} (std::vector$<$ {\bf Ali\-HLTComponent\-Data\-Type} $>$ \&)
\item 
virtual {\bf Ali\-HLTComponent\-Data\-Type} {\bf Get\-Output\-Data\-Type} ()
\item 
virtual void {\bf Get\-Output\-Data\-Size} (unsigned long \&const\-Base, double \&input\-Multiplier)
\item 
virtual {\bf Ali\-HLTComponent} $\ast$ {\bf Spawn} ()
\item 
virtual int {\bf Do\-Event} (const {\bf Ali\-HLTComponent\-Event\-Data} \&evt\-Data, const {\bf Ali\-HLTComponent\-Block\-Data} $\ast$blocks, {\bf Ali\-HLTComponent\-Trigger\-Data} \&trig\-Data, {\bf Ali\-HLTUInt8\_\-t} $\ast$output\-Ptr, {\bf Ali\-HLTUInt32\_\-t} \&size, vector$<$ {\bf Ali\-HLTComponent\-Block\-Data} $>$ \&output\-Blocks)
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTUInt16\_\-t} {\bf f\-Equippment\-ID}
\item 
{\bf Ali\-HLTUInt8\_\-t} {\bf f\-Rcu\-X}
\item 
{\bf Ali\-HLTUInt8\_\-t} {\bf f\-Rcu\-Z}
\item 
{\bf Ali\-HLTUInt8\_\-t} {\bf f\-Rcu\-ZOffset}
\item 
{\bf Ali\-HLTUInt8\_\-t} {\bf f\-Rcu\-XOffset}
\item 
{\bf Ali\-HLTUInt8\_\-t} {\bf f\-Module\-ID}
\item 
Bool\_\-t {\bf f\-Send\-Channel\-Data}
\item 
Bool\_\-t {\bf f\-Print\-Info}
\item 
Double\_\-t {\bf f\-Tmp\-Channel\-Data} [ALTRO\_\-MAX\_\-SAMPLES]
\item 
int {\bf f\-Print\-Info\-Frequncy}
\item 
Ali\-Calo\-Raw\-Stream $\ast$ {\bf f\-PHOSRaw\-Stream}
\item 
Ali\-Raw\-Reader\-Memory $\ast$ {\bf f\-Raw\-Memory\-Reader}
\item 
{\bf Ali\-HLTPHOSRcu\-Channel\-Data\-Struct} $\ast$ {\bf f\-Out\-Ptr}
\end{CompactItemize}
\subsection*{Static Private Attributes}
\begin{CompactItemize}
\item 
int {\bf fg\-Event\-Count} = 0
\item 
const {\bf Ali\-HLTComponent\-Data\-Type} {\bf fgk\-Input\-Data\-Types} [$\,$] = \{{\bf k\-Ali\-HLTVoid\-Data\-Type},\{0,\char`\"{}\char`\"{},\char`\"{}\char`\"{}\}\}
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!AliHLTPHOSDDLDecoderComponent@{AliHLTPHOSDDLDecoderComponent}}
\index{AliHLTPHOSDDLDecoderComponent@{AliHLTPHOSDDLDecoderComponent}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSDDLDecoder\-Component::Ali\-HLTPHOSDDLDecoder\-Component ()}\label{classAliHLTPHOSDDLDecoderComponent_a0}




Definition at line 33 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}33                                                             :AliHLTProcessor(), fEquippmentID(0), fRcuX(0), 
34 fRcuZ(0),fRcuZOffset(0), fRcuXOffset(0),  fModuleID(0), fSendChannelData(kFALSE), fPHOSRawStream(0), fRawMemoryReader(0), fOutPtr(0)
35 {
36 
37 } 
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!~AliHLTPHOSDDLDecoderComponent@{$\sim$AliHLTPHOSDDLDecoderComponent}}
\index{~AliHLTPHOSDDLDecoderComponent@{$\sim$AliHLTPHOSDDLDecoderComponent}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSDDLDecoder\-Component::$\sim${\bf Ali\-HLTPHOSDDLDecoder\-Component} ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a1}




Definition at line 39 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References f\-PHOSRaw\-Stream, and f\-Raw\-Memory\-Reader.

\footnotesize\begin{verbatim}40 {
41   if(fRawMemoryReader != 0)
42     {
43       delete fRawMemoryReader;
44     }
45     if(fPHOSRawStream != 0)
46     {
47       delete fPHOSRawStream;
48     }
49 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!AliHLTPHOSDDLDecoderComponent@{AliHLTPHOSDDLDecoderComponent}}
\index{AliHLTPHOSDDLDecoderComponent@{AliHLTPHOSDDLDecoderComponent}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSDDLDecoder\-Component::Ali\-HLTPHOSDDLDecoder\-Component (const {\bf Ali\-HLTPHOSDDLDecoder\-Component} \&)}\label{classAliHLTPHOSDDLDecoderComponent_a2}




Definition at line 52 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}52                                                                                                    : AliHLTProcessor(), 
53 fEquippmentID(0), fRcuX(0), fRcuZ(0),fRcuZOffset(0), fRcuXOffset(0),  fModuleID(0),  fSendChannelData(kFALSE), fPHOSRawStream(0), fRawMemoryReader(0), fOutPtr(0)
54 {
55 }
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!Deinit@{Deinit}}
\index{Deinit@{Deinit}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSDDLDecoder\-Component::Deinit ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a5}


Clean-up function to terminate data processing. Clean-up of common data structures after data processing. The call is redirected to the internal method {\bf Do\-Deinit}{\rm (p.\,\pageref{classAliHLTPHOSDDLDecoderComponent_a6})} which can be overridden by the child class. 

Reimplemented from {\bf Ali\-HLTProcessor} {\rm (p.\,\pageref{classAliHLTProcessor_a3})}.

Definition at line 59 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}60 {
61   cout <<  "Deinit" << endl;
62   return 0;
63 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!DoDeinit@{DoDeinit}}
\index{DoDeinit@{DoDeinit}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSDDLDecoder\-Component::Do\-Deinit ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a6}


Default method for the internal clean-up. The method is called by {\bf Deinit}{\rm (p.\,\pageref{classAliHLTPHOSDDLDecoderComponent_a5})} 

Reimplemented from {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_b6})}.

Definition at line 67 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References f\-PHOSRaw\-Stream, f\-Raw\-Memory\-Reader, k\-HLTLog\-Info, and Ali\-HLTLogging::Logging().

\footnotesize\begin{verbatim}68 {
69   cout << "DoDeinit" << endl;
70   Logging(kHLTLogInfo, "HLT", "PHOS", ",AliHLTPHOSRawAnalyzerComponen DoDeinit");
71 
72   if(fRawMemoryReader !=0)
73     {
74       delete fRawMemoryReader;
75     }
76     
77   if(fPHOSRawStream != 0)
78     {
79       delete fPHOSRawStream;
80     }
81   return 0;
82 
83 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!DoEvent@{DoEvent}}
\index{DoEvent@{DoEvent}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSDDLDecoder\-Component::Do\-Event (const {\bf Ali\-HLTComponent\-Event\-Data} \& {\em evt\-Data}, const {\bf Ali\-HLTComponent\-Block\-Data} $\ast$ {\em blocks}, {\bf Ali\-HLTComponent\-Trigger\-Data} \& {\em trig\-Data}, {\bf Ali\-HLTUInt8\_\-t} $\ast$ {\em output\-Ptr}, {\bf Ali\-HLTUInt32\_\-t} \& {\em size}, vector$<$ {\bf Ali\-HLTComponent\-Block\-Data} $>$ \& {\em output\-Blocks})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a15}


The low-level data processing method for the component. This is the custom processing method and can be overloaded by the component. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em evt\-Data}]event data structure \item[{\em blocks}]input data block descriptors \item[{\em trig\-Data}]trigger data structure \item[{\em output\-Ptr}]pointer to target buffer \item[{\em size}]{\em input\/}: size of target buffer {\em output\/}:size of produced data \item[{\em output\-Blocks}]list to receive output block descriptors \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]neg. error code if failed \end{Desc}


Reimplemented from {\bf Ali\-HLTProcessor} {\rm (p.\,\pageref{classAliHLTProcessor_d0})}.

Definition at line 121 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References Ali\-HLTUInt8\_\-t, Ali\-HLTComponent\-Event\-Data::f\-Block\-Cnt, Ali\-HLTPHOSValid\-Channel\-Data\-Struct::f\-Channel\-Data, Ali\-HLTComponent\-Block\-Data::f\-Data\-Type, f\-Equippment\-ID, Ali\-HLTPHOSValid\-Channel\-Data\-Struct::f\-Gain, fg\-Event\-Count, Ali\-HLTComponent::Fill\-Block\-Data(), Ali\-HLTPHOSRcu\-Channel\-Data\-Struct::f\-Module\-ID, Ali\-HLTPHOSValid\-Channel\-Data\-Struct::f\-NSamples, Ali\-HLTPHOSRcu\-Channel\-Data\-Struct::f\-NValid\-Channels, Ali\-HLTComponent\-Block\-Data::f\-Offset, f\-Out\-Ptr, f\-PHOSRaw\-Stream, f\-Print\-Info, f\-Print\-Info\-Frequncy, Ali\-HLTComponent\-Block\-Data::f\-Ptr, f\-Raw\-Memory\-Reader, Ali\-HLTPHOSRcu\-Channel\-Data\-Struct::f\-Rcu\-X, Ali\-HLTPHOSRcu\-Channel\-Data\-Struct::f\-Rcu\-Z, Ali\-HLTComponent\-Block\-Data::f\-Size, Ali\-HLTComponent\-Block\-Data::f\-Specification, Ali\-HLTPHOSRcu\-Channel\-Data\-Struct::f\-Valid\-Data, Ali\-HLTPHOSValid\-Channel\-Data\-Struct::f\-X, Ali\-HLTPHOSValid\-Channel\-Data\-Struct::f\-Z, k\-HLTLog\-Fatal, and Ali\-HLTLogging::Logging().

\footnotesize\begin{verbatim}124 {
125   AliHLTUInt8_t tmpMod    = 0;
126   AliHLTUInt8_t tmpZ      = 0;
127   AliHLTUInt8_t tmpX      = 0;
128   AliHLTUInt8_t tmpGain   = 0;
129   Int_t sampleCnt         = 0;
130   Int_t processedChannels = 0;
131   UInt_t offset           = 0; 
132   UInt_t mysize           = 0;
133   UInt_t tSize            = 0;
134   Int_t tmpChannelCnt     = 0;
135   Int_t tmpStartIndex     = 0;
136   AliHLTUInt8_t* outBPtr;
137   unsigned long first;
138   unsigned long last;
139   outBPtr = outputPtr;
140   const AliHLTComponentBlockData* iter = NULL; 
141   unsigned long ndx;
142 
143   for( ndx = 0; ndx < evtData.fBlockCnt; ndx++ )
144     {
145       iter = blocks+ndx;
146       mysize = 0;
147       tmpChannelCnt = 0;
148       offset = tSize;
149 
150       if ( iter->fDataType != AliHLTPHOSDefinitions::gkDDLPackedRawDataType )
151         {
152           continue;
153         }
154 
155       fRawMemoryReader->SetMemory( reinterpret_cast<UChar_t*>( iter->fPtr ), iter->fSize );
156       fOutPtr =  (AliHLTPHOSRcuChannelDataStruct*)outBPtr;
157       mysize += sizeof(AliHLTPHOSRcuChannelDataStruct);
158 
159       fOutPtr->fRcuX = fRcuX;
160       fOutPtr->fRcuZ = fRcuZ;
161       fOutPtr->fModuleID = fModuleID;
162 
163       while(fPHOSRawStream->Next())
164         {
165           
166           if (fPHOSRawStream->IsNewHWAddress())
167             {
168               sampleCnt = 0;
169               fOutPtr->fValidData[tmpChannelCnt].fZ = (AliHLTUInt8_t)fPHOSRawStream->GetColumn() - fRcuZOffset;
170               fOutPtr->fValidData[tmpChannelCnt].fX = (AliHLTUInt8_t)fPHOSRawStream->GetRow() - fRcuXOffset;
171               fOutPtr->fValidData[tmpChannelCnt].fGain = fPHOSRawStream->IsLowGain();
172               fOutPtr->fValidData[tmpChannelCnt].fNSamples = 0;
173               tmpChannelCnt++;
174             }
175           fOutPtr->fValidData[tmpChannelCnt-1].fNSamples ++;
176           fOutPtr->fValidData[tmpChannelCnt-1].fChannelData[sampleCnt] = fPHOSRawStream->GetSignal();
177           sampleCnt ++; 
178         }
179 
180       fOutPtr->fNValidChannels = tmpChannelCnt-1;;
181  
182       int tmpSampleCnt=0;
183       AliHLTComponentBlockData bd;
184       FillBlockData( bd );
185       bd.fOffset = offset;
186       bd.fSize = mysize;
187       bd.fDataType = AliHLTPHOSDefinitions::gkCellChannelDataDataType;
188       bd.fSpecification = 0xeFFFFFFF;
189       outputBlocks.push_back( bd);
190       tSize += mysize;
191       outBPtr += mysize;
192     }
193 
194   
195   if( tSize > size )
196     {
197       cout <<"kHLTLogFatal, HLT::AliHLTPHOSDDLDecoderComponent::DoEvent Too much data Data written over allowed buffer. Amount written:" << tSize << " allowed" << size << endl;
198       Logging( kHLTLogFatal, "HLT::AliHLTPHOSDDLDecoderComponent::DoEvent", "Too much data", "Data written over allowed buffer. Amount written: %lu, allowed amount: %lu.",  tSize, size );
199       return EMSGSIZE;
200     }
201 
202   fgEventCount++; 
203   
204   if(fPrintInfo == kTRUE)
205     {
206       if(fgEventCount%fPrintInfoFrequncy == 0)
207         {
208           cout <<"Analyzing event " <<  fgEventCount  << "for Equippment " << fEquippmentID << endl; 
209         }  
210     }
211   size = tSize;
212   return 0;
213 }//end DoEvent
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!DoInit@{DoInit}}
\index{DoInit@{DoInit}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSDDLDecoder\-Component::Do\-Init (int {\em argc}, const char $\ast$$\ast$ {\em argv})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a4}


Default method for the internal initialization. The method is called by {\bf Init}{\rm (p.\,\pageref{classAliHLTProcessor_a2})} 

Reimplemented from {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_b5})}.

Definition at line 217 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References f\-Equippment\-ID, f\-PHOSRaw\-Stream, f\-Print\-Info, f\-Print\-Info\-Frequncy, f\-Raw\-Memory\-Reader, f\-Send\-Channel\-Data, k\-HLTLog\-Fatal, Ali\-HLTLogging::Logging(), Set\-Coordinates(), and Set\-Equippment\-ID().

\footnotesize\begin{verbatim}218 {
219   fSendChannelData = kFALSE;
220   fPrintInfo = kFALSE;
221   fRawMemoryReader = new AliRawReaderMemory();
222   fPHOSRawStream = new  AliCaloRawStream(fRawMemoryReader,"PHOS");
223   fPHOSRawStream->SetOldRCUFormat(kFALSE);
224   int iResult=0;
225   TString argument="";
226   Bool_t isSetEquippmentID = kFALSE;
227 
228   for(int i=0; i<argc && iResult>=0; i++) 
229     {
230       argument=argv[i];
231       
232       if (argument.IsNull()) 
233         {
234           continue;
235         }
236                          
237     if (argument.CompareTo("-equipmentID") == 0) 
238         {
239           cout << "AliHLTPHOSDDLDecoderComponent:DoInit  argument = -equipmentID   "  <<endl;  
240           if(i+1 <= argc)
241             {
242               fEquippmentID = atoi(argv[i+1]);
243               cout << "AliHLTPHOSDDLDecoderComponent:DoInit  setting equippment ID to  " << fEquippmentID <<endl;
244               fRawMemoryReader->SetEquipmentID(fEquippmentID); 
245               SetEquippmentID(fEquippmentID);
246               SetCoordinates(fEquippmentID);
247               isSetEquippmentID = kTRUE;
248             }
249           else
250             {
251                iResult= -1;
252                Logging( kHLTLogFatal, "HLT::AliHLTPHOSRcuHistogramProducerComponent::DoInt( int argc, const char** argv )", "Missing argument",
253                         "The argument -equippmentID expects a number");
254                return  iResult;   
255             }
256         }
257       
258     
259     if (argument.CompareTo("-datatype") == 0) 
260       {
261         if(i+1 <= argc)
262           {
263             //      i++;
264             argument=argv[i+1];
265             if(argument.CompareTo("channeldata") == 0)
266               {
267                 cout << "AliHLTPHOSDDLDecoderComponent::DoIni  setting sendChannelData = kTRUE "<< endl; 
268                 fSendChannelData = kTRUE;
269               }
270           }     
271       }
272     
273 
274     if (argument.CompareTo("-printinfo") == 0) 
275       {
276         if(i+1 <= argc)
277           {
278             argument=argv[i+1];
279             fPrintInfoFrequncy = atoi(argv[i+1]);
280             fPrintInfo = kTRUE;
281             cout << "AliHLTPHOSDDLDecoderComponent::DoIni  setting printinfo = kTRUE, with update frequency every  "<< fPrintInfoFrequncy << "th event" <<endl; 
282           }
283         else
284           {
285             cout << "WARNING: asking for event info, but no update frequency is specified, otipn is ignored" << endl;
286           }
287         //     }        
288       }
289  
290     }
291 
292 
293   if(isSetEquippmentID == kFALSE)
294     {
295       Logging( kHLTLogFatal, "HLT::AliHLTPHOSRcuHistogramProducerComponent::DoInt( int argc, const char** argv )", "Missing argument",
296                "The argument equippmentID is not set: set it with a component argumet like this: -equippmentID  <number>");
297       iResult = -2; 
298     }
299 
300 
301   return 0;
302 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!GetComponentID@{GetComponentID}}
\index{GetComponentID@{GetComponentID}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ Ali\-HLTPHOSDDLDecoder\-Component::Get\-Component\-ID ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a10}


Get the id of the component. Each component is identified by a unique id. The function is pure virtual and must be implemented by the child class. \begin{Desc}
\item[Returns:]component id (string) \end{Desc}


Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a9})}.

Definition at line 87 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}88 {
89   return "PhosDDLDecoder";
90 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!GetEquippmentID@{GetEquippmentID}}
\index{GetEquippmentID@{GetEquippmentID}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt16\_\-t} Ali\-HLTPHOSDDLDecoder\-Component::Get\-Equippment\-ID ()}\label{classAliHLTPHOSDDLDecoderComponent_a8}




Definition at line 314 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}315 {
316   return  fEquippmentID;
317 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!GetInputDataTypes@{GetInputDataTypes}}
\index{GetInputDataTypes@{GetInputDataTypes}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSDDLDecoder\-Component::Get\-Input\-Data\-Types (std::vector$<$ {\bf Ali\-HLTComponent\-Data\-Type} $>$ \&)\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a11}




Definition at line 95 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References Ali\-HLTComponent\-Data\-Type::f\-ID.

\footnotesize\begin{verbatim}96 {
97   const AliHLTComponentDataType* pType=fgkInputDataTypes;
98   while (pType->fID!=0) {
99     list.push_back(*pType);
100     pType++;
101   }
102 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!GetOutputDataSize@{GetOutputDataSize}}
\index{GetOutputDataSize@{GetOutputDataSize}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSDDLDecoder\-Component::Get\-Output\-Data\-Size (unsigned long \& {\em const\-Base}, double \& {\em input\-Multiplier})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a13}


Get a ratio by how much the data volume is shrinked or enhanced. The function is pure virtual and must be implemented by the child class. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em const\-Base}]{\em return\/}: additive part, independent of the input data volume \item[{\em input\-Multiplier}]{\em return\/}: multiplication ratio \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]values in the reference variables \end{Desc}


Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a12})}.

Definition at line 111 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}113 {
114   constBase = 30;
115   inputMultiplier = 1;
116 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!GetOutputDataType@{GetOutputDataType}}
\index{GetOutputDataType@{GetOutputDataType}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTComponent\-Data\-Type} Ali\-HLTPHOSDDLDecoder\-Component::Get\-Output\-Data\-Type ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a12}


Get the output data type of the component. The function is pure virtual and must be implemented by the child class. \begin{Desc}
\item[Returns:]output data type \end{Desc}


Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a11})}.

Definition at line 105 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}106 {
107   return AliHLTPHOSDefinitions::gkCellEnergyDataType;
108 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!operator=@{operator=}}
\index{operator=@{operator=}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTPHOSDDLDecoder\-Component}\& Ali\-HLTPHOSDDLDecoder\-Component::operator= (const {\bf Ali\-HLTPHOSDDLDecoder\-Component} \&)\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTPHOSDDLDecoderComponent_a3}




Definition at line 26 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

\footnotesize\begin{verbatim}27     {
28       return *this;
29     };
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!SetCoordinates@{SetCoordinates}}
\index{SetCoordinates@{SetCoordinates}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSDDLDecoder\-Component::Set\-Coordinates ({\bf Ali\-HLTUInt16\_\-t} {\em equippment\-ID})}\label{classAliHLTPHOSDDLDecoderComponent_a9}




Definition at line 321 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References f\-Equippment\-ID, f\-Module\-ID, f\-Rcu\-X, f\-Rcu\-XOffset, f\-Rcu\-Z, f\-Rcu\-ZOffset, N\_\-XCOLUMNS\_\-RCU, and N\_\-ZROWS\_\-RCU.

Referenced by Do\-Init().

\footnotesize\begin{verbatim}322 {
323   int rcuIndex =  (fEquippmentID - 1792)%N_RCUS_PER_MODULE;
324   fModuleID = (fEquippmentID  -1792 -rcuIndex)/N_RCUS_PER_MODULE;
325   
326   if(rcuIndex == 0)
327     {
328       fRcuX = 0; 
329       fRcuZ = 0;
330     }
331 
332   if(rcuIndex == 1)
333     {
334       fRcuX = 0; 
335       fRcuZ = 1;
336     }
337  
338   if(rcuIndex == 2)
339     {
340       fRcuX = 1; 
341       fRcuZ = 0;
342     }
343 
344   if(rcuIndex == 3)
345     {
346       fRcuX = 1; 
347       fRcuZ = 1;
348     }
349 
350 
351 
352   fRcuZOffset =  N_ZROWS_RCU*fRcuZ;
353   fRcuXOffset =  N_XCOLUMNS_RCU*fRcuX;
354 
355   cout <<"********InitInfo************"<< endl;
356   cout <<"AliHLTPHOSDDLDecoderComponent::SetCoordinate"<< endl;
357   cout <<"Equpippment ID =\t"<< fEquippmentID <<endl;
358   cout <<"Module ID =\t"<<  (int)fModuleID<<endl;
359   cout <<"RCUX =\t\t" << (int)fRcuX << endl;
360   cout <<"RCUZ =\t\t" << (int)fRcuZ << endl;
361   cout <<"RcuZOffset = \t" <<  (int)fRcuZOffset << endl;
362   cout <<"RcuXOffset = \t" <<  (int)fRcuXOffset << endl << endl;
363 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!SetEquippmentID@{SetEquippmentID}}
\index{SetEquippmentID@{SetEquippmentID}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSDDLDecoder\-Component::Set\-Equippment\-ID ({\bf Ali\-HLTUInt16\_\-t} {\em id})}\label{classAliHLTPHOSDDLDecoderComponent_a7}




Definition at line 307 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

References f\-Equippment\-ID.

Referenced by Do\-Init().

\footnotesize\begin{verbatim}308 {
309   fEquippmentID = id;
310 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!Spawn@{Spawn}}
\index{Spawn@{Spawn}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTComponent} $\ast$ Ali\-HLTPHOSDDLDecoder\-Component::Spawn ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSDDLDecoderComponent_a14}


Spawn function. Each component must implement a spawn function to create a new instance of the class. Basically the function must return {\em new {\bf my\_\-class\_\-name}\/}. \begin{Desc}
\item[Returns:]new class instance \end{Desc}


Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a13})}.

Definition at line 366 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

\footnotesize\begin{verbatim}367 {
368   return new AliHLTPHOSDDLDecoderComponent;
369 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fEquippmentID@{fEquippmentID}}
\index{fEquippmentID@{fEquippmentID}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt16\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Equippment\-ID}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r0}




Definition at line 49 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Event(), Do\-Init(), Set\-Coordinates(), and Set\-Equippment\-ID().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fgEventCount@{fgEventCount}}
\index{fgEventCount@{fgEventCount}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf Ali\-HLTPHOSDDLDecoder\-Component::fg\-Event\-Count} = 0\hspace{0.3cm}{\tt  [static, private]}}\label{classAliHLTPHOSDDLDecoderComponent_v0}




Definition at line 30 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.

Referenced by Do\-Event().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fgkInputDataTypes@{fgkInputDataTypes}}
\index{fgkInputDataTypes@{fgkInputDataTypes}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const {\bf Ali\-HLTComponent\-Data\-Type} {\bf Ali\-HLTPHOSDDLDecoder\-Component::fgk\-Input\-Data\-Types} = \{{\bf k\-Ali\-HLTVoid\-Data\-Type},\{0,\char`\"{}\char`\"{},\char`\"{}\char`\"{}\}\}\hspace{0.3cm}{\tt  [static, private]}}\label{classAliHLTPHOSDDLDecoderComponent_v1}




Definition at line 29 of file Ali\-HLTPHOSDDLDecoder\-Component.cxx.\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fModuleID@{fModuleID}}
\index{fModuleID@{fModuleID}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt8\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Module\-ID}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r5}




Definition at line 54 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Set\-Coordinates().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fOutPtr@{fOutPtr}}
\index{fOutPtr@{fOutPtr}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTPHOSRcu\-Channel\-Data\-Struct}$\ast$ {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Out\-Ptr}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r12}




Definition at line 61 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Event().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fPHOSRawStream@{fPHOSRawStream}}
\index{fPHOSRawStream@{fPHOSRawStream}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-Calo\-Raw\-Stream$\ast$ {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-PHOSRaw\-Stream}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r10}




Definition at line 59 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Deinit(), Do\-Event(), Do\-Init(), and $\sim$Ali\-HLTPHOSDDLDecoder\-Component().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fPrintInfo@{fPrintInfo}}
\index{fPrintInfo@{fPrintInfo}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Bool\_\-t {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Print\-Info}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r7}




Definition at line 56 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Event(), and Do\-Init().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fPrintInfoFrequncy@{fPrintInfoFrequncy}}
\index{fPrintInfoFrequncy@{fPrintInfoFrequncy}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Print\-Info\-Frequncy}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r9}




Definition at line 58 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Event(), and Do\-Init().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fRawMemoryReader@{fRawMemoryReader}}
\index{fRawMemoryReader@{fRawMemoryReader}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-Raw\-Reader\-Memory$\ast$ {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Raw\-Memory\-Reader}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r11}




Definition at line 60 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Deinit(), Do\-Event(), Do\-Init(), and $\sim$Ali\-HLTPHOSDDLDecoder\-Component().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fRcuX@{fRcuX}}
\index{fRcuX@{fRcuX}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt8\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Rcu\-X}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r1}




Definition at line 50 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Set\-Coordinates().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fRcuXOffset@{fRcuXOffset}}
\index{fRcuXOffset@{fRcuXOffset}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt8\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Rcu\-XOffset}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r4}




Definition at line 53 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Set\-Coordinates().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fRcuZ@{fRcuZ}}
\index{fRcuZ@{fRcuZ}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt8\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Rcu\-Z}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r2}




Definition at line 51 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Set\-Coordinates().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fRcuZOffset@{fRcuZOffset}}
\index{fRcuZOffset@{fRcuZOffset}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt8\_\-t} {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Rcu\-ZOffset}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r3}




Definition at line 52 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Set\-Coordinates().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fSendChannelData@{fSendChannelData}}
\index{fSendChannelData@{fSendChannelData}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Bool\_\-t {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Send\-Channel\-Data}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r6}




Definition at line 55 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

Referenced by Do\-Init().\index{AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}!fTmpChannelData@{fTmpChannelData}}
\index{fTmpChannelData@{fTmpChannelData}!AliHLTPHOSDDLDecoderComponent@{Ali\-HLTPHOSDDLDecoder\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t {\bf Ali\-HLTPHOSDDLDecoder\-Component::f\-Tmp\-Channel\-Data}[ALTRO\_\-MAX\_\-SAMPLES]\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSDDLDecoderComponent_r8}




Definition at line 57 of file Ali\-HLTPHOSDDLDecoder\-Component.h.

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSDDLDecoder\-Component.h}\item 
{\bf Ali\-HLTPHOSDDLDecoder\-Component.cxx}\end{CompactItemize}
