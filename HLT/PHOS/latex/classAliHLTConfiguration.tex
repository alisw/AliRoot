\section{Ali\-HLTConfiguration Class Reference}
\label{classAliHLTConfiguration}\index{AliHLTConfiguration@{AliHLTConfiguration}}
{\tt \#include $<$Ali\-HLTConfiguration.h$>$}

Inheritance diagram for Ali\-HLTConfiguration::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classAliHLTConfiguration}
\end{center}
\end{figure}


\subsection{Detailed Description}
Description of HLT processing chains. 

This class describes a certain configuration af an HLT processing step by the following parameters:\begin{itemize}
\item a unique id string/name\item the id of the component\item the ids of the configurations it requires input from\item the arguments, which are passed to the component when it is initialized\end{itemize}


The setup of a configuration requires simply the creation of a global object of {\bf Ali\-HLTConfiguration}{\rm (p.\,\pageref{classAliHLTConfiguration})}. The Configuration is automatically registered in the list of available configurations maintained by the {\bf Ali\-HLTConfiguration\-Handler}{\rm (p.\,\pageref{classAliHLTConfigurationHandler})}. The list is used by to resolve the dependencies on other configurations. Hierarchies can be built up in an easy way.

A configuration is interpreted by the {\bf Ali\-HLTConfiguration\-Handler}{\rm (p.\,\pageref{classAliHLTConfigurationHandler})} and transformed into a Task List.

\begin{Desc}
\item[Note:]This class is only used for the {\bf HLT integration into Ali\-Root}{\rm (p.\,\pageref{group__alihlt__system})}. \end{Desc}




Definition at line 49 of file Ali\-HLTConfiguration.h.\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTConfiguration} ()
\item 
{\bf Ali\-HLTConfiguration} (const char $\ast$id, const char $\ast$component, const char $\ast$sources, const char $\ast$arguments)
\item 
{\bf Ali\-HLTConfiguration} (const {\bf Ali\-HLTConfiguration} \&src)
\item 
{\bf Ali\-HLTConfiguration} \& {\bf operator=} (const {\bf Ali\-HLTConfiguration} \&src)
\item 
virtual {\bf $\sim$Ali\-HLTConfiguration} ()
\item 
const char $\ast$ {\bf Get\-Name} () const 
\item 
const char $\ast$ {\bf Get\-Component\-ID} () const 
\item 
void {\bf Print\-Status} ()
\item 
{\bf Ali\-HLTConfiguration} $\ast$ {\bf Get\-Source} (const char $\ast$id)
\item 
int {\bf Follow\-Dependency} (const char $\ast$id, TList $\ast$p\-Tgt\-List=NULL)
\item 
int {\bf Get\-Nof\-Sources} ()
\item 
int {\bf Sources\-Resolved} (int b\-Auto=0)
\item 
{\bf Ali\-HLTConfiguration} $\ast$ {\bf Get\-First\-Source} ()
\item 
{\bf Ali\-HLTConfiguration} $\ast$ {\bf Get\-Next\-Source} ()
\item 
int {\bf Invalidate\-Source} ({\bf Ali\-HLTConfiguration} $\ast$p\-Conf)
\item 
int {\bf Invalidate\-Sources} ()
\item 
int {\bf Get\-Arguments} (const char $\ast$$\ast$$\ast$p\-Argv)
\end{CompactItemize}
\subsection*{Static Public Member Functions}
\begin{CompactItemize}
\item 
int {\bf Global\-Init} ({\bf Ali\-HLTConfiguration\-Handler} $\ast$p\-Handler)
\item 
int {\bf Global\-Deinit} ({\bf Ali\-HLTConfiguration\-Handler} $\ast$p\-Handler)
\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
int {\bf Extract\-Sources} ()
\item 
int {\bf Extract\-Arguments} ()
\item 
int {\bf Interprete\-String} (const char $\ast$arg, vector$<$ char $\ast$ $>$ \&arg\-List)
\item 
{\bf Class\-Def} ({\bf Ali\-HLTConfiguration}, 0)
\begin{CompactList}\small\item\em transient \item\end{CompactList}\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
TString {\bf f\-ID}
\item 
TString {\bf f\-Component}
\item 
TString {\bf f\-String\-Sources}
\item 
int {\bf f\-Nof\-Sources}
\item 
vector$<$ {\bf Ali\-HLTConfiguration} $\ast$ $>$ {\bf f\-List\-Sources}
\item 
vector$<$ {\bf Ali\-HLTConfiguration} $\ast$ $>$::iterator {\bf f\-List\-Src\-Element}
\item 
TString {\bf f\-Arguments}
\item 
int {\bf f\-Argc}
\item 
char $\ast$$\ast$ {\bf f\-Argv}
\end{CompactItemize}
\subsection*{Static Private Attributes}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTConfiguration\-Handler} $\ast$ {\bf fg\-Configuration\-Handler} = NULL
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!AliHLTConfiguration@{AliHLTConfiguration}}
\index{AliHLTConfiguration@{AliHLTConfiguration}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration::Ali\-HLTConfiguration ()}\label{classAliHLTConfiguration_a0}


standard constructor. The configuration is automatically registered in the global configuration manager \index{AliHLTConfiguration@{Ali\-HLTConfiguration}!AliHLTConfiguration@{AliHLTConfiguration}}
\index{AliHLTConfiguration@{AliHLTConfiguration}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration::Ali\-HLTConfiguration (const char $\ast$ {\em id}, const char $\ast$ {\em component}, const char $\ast$ {\em sources}, const char $\ast$ {\em arguments})}\label{classAliHLTConfiguration_a1}


constructor. The configuration is automatically registered in the global configuration manager \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]unique id of the configuration \item[{\em component}]component id \item[{\em sources}]blank separated list of source configuration ids \item[{\em arguments}]argument string passed to the component at initialization \end{description}
\end{Desc}


Definition at line 57 of file Ali\-HLTConfiguration.cxx.

References fg\-Configuration\-Handler, f\-List\-Sources, f\-List\-Src\-Element, HLTError, and Ali\-HLTConfiguration\-Handler::Register\-Configuration().

\footnotesize\begin{verbatim}58   :
59   fID(id),
60   fComponent(component),
61   fStringSources(sources),
62   fNofSources(-1),
63   fListSources(),
64   fListSrcElement(),
65   fArguments(arguments),
66   fArgc(-1),
67   fArgv(NULL)
68 {
69   // see header file for function documentation
70   fListSrcElement=fListSources.begin();
71   if (id && component) {
72     if (fgConfigurationHandler) {
73       fgConfigurationHandler->RegisterConfiguration(this);
74     } else {
75       HLTError("no configuration handler set, abort registration");
76     }
77   }
78 }

\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!AliHLTConfiguration@{AliHLTConfiguration}}
\index{AliHLTConfiguration@{AliHLTConfiguration}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration::Ali\-HLTConfiguration (const {\bf Ali\-HLTConfiguration} \& {\em src})}\label{classAliHLTConfiguration_a2}


copy constructor 

Definition at line 80 of file Ali\-HLTConfiguration.cxx.

References f\-List\-Sources, and f\-List\-Src\-Element.

\footnotesize\begin{verbatim}81   :
82   TObject(),
83   AliHLTLogging(),
84   fID(src.fID),
85   fComponent(src.fComponent),
86   fStringSources(src.fStringSources),
87   fNofSources(-1),
88   fListSources(),
89   fListSrcElement(),
90   fArguments(src.fArguments),
91   fArgc(-1),
92   fArgv(NULL)
93 { 
94   // see header file for function documentation
95   fListSrcElement=fListSources.begin();
96 }

\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!~AliHLTConfiguration@{$\sim$AliHLTConfiguration}}
\index{~AliHLTConfiguration@{$\sim$AliHLTConfiguration}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration::$\sim${\bf Ali\-HLTConfiguration} ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTConfiguration_a4}


destructor 

Definition at line 111 of file Ali\-HLTConfiguration.cxx.

References f\-Argc, f\-Argv, fg\-Configuration\-Handler, f\-ID, Ali\-HLTConfiguration\-Handler::Find\-Configuration(), f\-List\-Sources, and Ali\-HLTConfiguration\-Handler::Remove\-Configuration().

\footnotesize\begin{verbatim}112 {
113   // see header file for function documentation
114   if (fgConfigurationHandler) {
115     if (fgConfigurationHandler->FindConfiguration(fID.Data())!=NULL) {
116       fgConfigurationHandler->RemoveConfiguration(this);
117     }
118   }
119   if (fArgv != NULL) {
120     if (fArgc>0) {
121       for (int i=0; i<fArgc; i++) {
122         delete[] fArgv[i];
123       }
124     }
125     delete[] fArgv;
126     fArgv=NULL;
127   }
128 
129   vector<AliHLTConfiguration*>::iterator element=fListSources.begin();
130   while (element!=fListSources.end()) {
131     fListSources.erase(element);
132     element=fListSources.begin();
133   }
134 }
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!ClassDef@{ClassDef}}
\index{ClassDef@{ClassDef}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTConfiguration::Class\-Def ({\bf Ali\-HLTConfiguration}, 0)\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_d3}


transient 

\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!ExtractArguments@{ExtractArguments}}
\index{ExtractArguments@{ExtractArguments}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Extract\-Arguments ()\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_d1}




Definition at line 326 of file Ali\-HLTConfiguration.cxx.

References f\-Argc, f\-Arguments, f\-Argv, and Interprete\-String().

Referenced by Get\-Arguments().

\footnotesize\begin{verbatim}327 {
328   // see header file for function documentation
329   int iResult=0;
330   if (!fArguments.IsNull()) {
331     vector<char*> tgtList;
332     if ((iResult=InterpreteString(fArguments, tgtList))>=0) {
333       fArgc=tgtList.size();
334       //HLTDebug("configuration %s: extracted %d arguments from \"%s\"", GetName(), fArgc, fArguments);
335       if (fArgc>0) {
336         fArgv = new char*[fArgc];
337         if (fArgv) {
338           vector<char*>::iterator element=tgtList.begin();
339           int i=0;
340           while (element!=tgtList.end()) {
341             //HLTDebug("assign arguments %d (%s)", i, *element);
342             fArgv[i++]=(*element);
343             element++;
344           }
345         } else {
346           iResult=-ENOMEM;
347         }
348       }
349     }
350   } else {
351     // there are zero arguments
352     fArgc=0;
353   }
354   return iResult;
355 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!ExtractSources@{ExtractSources}}
\index{ExtractSources@{ExtractSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Extract\-Sources ()\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_d0}




Definition at line 292 of file Ali\-HLTConfiguration.cxx.

References fg\-Configuration\-Handler, Ali\-HLTConfiguration\-Handler::Find\-Configuration(), f\-List\-Sources, f\-List\-Src\-Element, f\-Nof\-Sources, f\-String\-Sources, HLTError, HLTFatal, and Interprete\-String().

Referenced by Get\-First\-Source(), and Sources\-Resolved().

\footnotesize\begin{verbatim}293 {
294   // see header file for function documentation
295   int iResult=0;
296   fNofSources=0;
297   if (!fStringSources.IsNull()) {
298     vector<char*> tgtList;
299     fListSources.clear();
300     if ((iResult=InterpreteString(fStringSources.Data(), tgtList))>=0) {
301       fNofSources=tgtList.size();
302       vector<char*>::iterator element=tgtList.begin();
303       while ((element=tgtList.begin())!=tgtList.end()) {
304         if (fgConfigurationHandler) {
305           AliHLTConfiguration* pConf=fgConfigurationHandler->FindConfiguration(*element);
306           if (pConf) {
307             //HLTDebug("configuration %s (%p): source \"%s\" (%p) inserted", GetName(), this, pConf->GetName(), pConf);
308             fListSources.push_back(pConf);
309           } else {
310             HLTError("can not find source \"%s\"", (*element));
311             iResult=-ENOENT;
312           }
313         } else if (iResult>=0) {
314           iResult=-EFAULT;
315           HLTFatal("global configuration handler not initialized, can not resolve sources");
316         }
317         delete[] (*element);
318         tgtList.erase(element);
319       }
320       fListSrcElement=fListSources.begin();
321     }
322   }
323   return iResult;
324 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!FollowDependency@{FollowDependency}}
\index{FollowDependency@{FollowDependency}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Follow\-Dependency (const char $\ast$ {\em id}, TList $\ast$ {\em p\-Tgt\-List} = {\tt NULL})}\label{classAliHLTConfiguration_a9}


Try to find a dependency recursively in the list of sources. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]the source to search for \item[{\em p\-Tgt\-List}](optional) target list to receive the dependency tree \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]0 if not found n found in the n-th level dependency list in the target list \end{Desc}


Definition at line 393 of file Ali\-HLTConfiguration.cxx.

References Get\-First\-Source(), Get\-Next\-Source(), and Get\-Source().

Referenced by Ali\-HLTSystem::Build\-Task\-List(), and Ali\-HLTTask::Print\-Dependency\-Tree().

\footnotesize\begin{verbatim}394 {
395   // see header file for function documentation
396   int iResult=0;
397   if (id) {
398     AliHLTConfiguration* pDep=NULL;
399     if ((pDep=GetSource(id))!=NULL) {
400       if (pTgtList) pTgtList->Add(pDep);
401       iResult++;
402     } else {
403       pDep=GetFirstSource();
404       while (pDep && iResult==0) {
405         if ((iResult=pDep->FollowDependency(id, pTgtList))>0) {
406           if (pTgtList) pTgtList->AddFirst(pDep);
407           iResult++;
408         }
409         pDep=GetNextSource();
410       }
411     }
412   } else {
413     iResult=-EINVAL;
414   }
415   return iResult;
416 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetArguments@{GetArguments}}
\index{GetArguments@{GetArguments}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Get\-Arguments (const char $\ast$$\ast$$\ast$ {\em p\-Argv})}\label{classAliHLTConfiguration_a16}


Get the arguments array. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Argv}]pointer to receive argument array pointer \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]argc if succeeded, neg. error code if failed \end{Desc}


Definition at line 268 of file Ali\-HLTConfiguration.cxx.

References Extract\-Arguments(), f\-Argc, Get\-Name(), and HLTError.

Referenced by Ali\-HLTTask::Init().

\footnotesize\begin{verbatim}269 {
270   // see header file for function documentation
271   int iResult=0;
272   if (pArgv) {
273     if (fArgc==-1) {
274       if ((iResult=ExtractArguments())<0) {
275         HLTError("error extracting arguments for configuration %s", GetName());
276         fArgc=-EINVAL;
277       }
278     } else if (fArgc<0) {
279       HLTError("previous argument extraction failed");
280     }
281     //HLTDebug("%s fArgc %d", GetName(), fArgc);
282     iResult=fArgc;
283     *pArgv=(const char**)fArgv;
284   } else {
285     HLTError("invalid parameter");
286     iResult=-EINVAL;
287   }
288   return iResult;
289 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetComponentID@{GetComponentID}}
\index{GetComponentID@{GetComponentID}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ Ali\-HLTConfiguration::Get\-Component\-ID () const\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTConfiguration_a6}


Get id of the component. The id is a unique string. \begin{Desc}
\item[Returns:]id of the component \end{Desc}


Definition at line 104 of file Ali\-HLTConfiguration.h.

Referenced by Ali\-HLTTask::Init().

\footnotesize\begin{verbatim}104 {return fComponent;}
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetFirstSource@{GetFirstSource}}
\index{GetFirstSource@{GetFirstSource}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration} $\ast$ Ali\-HLTConfiguration::Get\-First\-Source ()}\label{classAliHLTConfiguration_a12}


Start iteration and get the first source. \begin{Desc}
\item[Returns:]pointer to the first configuration descriptor \end{Desc}


Definition at line 193 of file Ali\-HLTConfiguration.cxx.

References Extract\-Sources(), f\-List\-Sources, f\-List\-Src\-Element, and f\-Nof\-Sources.

Referenced by Ali\-HLTSystem::Build\-Task\-List(), Ali\-HLTTask::Check\-Dependencies(), Follow\-Dependency(), Get\-Source(), Ali\-HLTTask::Print\-Status(), and Print\-Status().

\footnotesize\begin{verbatim}194 {
195   // see header file for function documentation
196   AliHLTConfiguration* pSrc=NULL;
197   if (fNofSources>=0 || ExtractSources()) {
198     fListSrcElement=fListSources.begin();
199     if (fListSrcElement!=fListSources.end()) pSrc=*fListSrcElement;
200   } 
201   return pSrc;
202 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetName@{GetName}}
\index{GetName@{GetName}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ Ali\-HLTConfiguration::Get\-Name () const}\label{classAliHLTConfiguration_a5}


Get configuration id, a unique name This is an overridden TObject function in order to return the configuration name instead of the class name. Enables use of TList standard functions. \begin{Desc}
\item[Returns:]configuration id \end{Desc}


Definition at line 163 of file Ali\-HLTConfiguration.cxx.

References f\-ID.

Referenced by Ali\-HLTSystem::Build\-Task\-List(), Ali\-HLTTask::Check\-Dependencies(), Get\-Arguments(), Ali\-HLTTask::Get\-Name(), Get\-Source(), Ali\-HLTTask::Init(), Ali\-HLTTask::Print\-Status(), Print\-Status(), Ali\-HLTConfiguration\-Handler::Register\-Configuration(), Ali\-HLTConfiguration\-Handler::Remove\-Configuration(), and Ali\-HLTConfiguration\-Handler::$\sim$Ali\-HLTConfiguration\-Handler().

\footnotesize\begin{verbatim}164 {
165   // see header file for function documentation
166   if (!fID.IsNull())
167     return fID.Data();
168   return TObject::GetName();
169 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetNextSource@{GetNextSource}}
\index{GetNextSource@{GetNextSource}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration} $\ast$ Ali\-HLTConfiguration::Get\-Next\-Source ()}\label{classAliHLTConfiguration_a13}


Continue iteration and get the next source. \begin{Desc}
\item[Returns:]pointer to the next configuration descriptor in the list \end{Desc}


Definition at line 204 of file Ali\-HLTConfiguration.cxx.

References f\-List\-Sources, f\-List\-Src\-Element, and f\-Nof\-Sources.

Referenced by Ali\-HLTSystem::Build\-Task\-List(), Ali\-HLTTask::Check\-Dependencies(), Follow\-Dependency(), Get\-Source(), Ali\-HLTTask::Print\-Status(), and Print\-Status().

\footnotesize\begin{verbatim}205 {
206   // see header file for function documentation
207   AliHLTConfiguration* pSrc=NULL;
208   if (fNofSources>0) {
209     if (fListSrcElement!=fListSources.end() && (++fListSrcElement)!=fListSources.end()) 
210       pSrc=*fListSrcElement;
211   } 
212   return pSrc;
213 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetNofSources@{GetNofSources}}
\index{GetNofSources@{GetNofSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Get\-Nof\-Sources ()\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTConfiguration_a10}


Get the number of resolved sources. \begin{Desc}
\item[Returns:]number of resolved sources \end{Desc}


Definition at line 134 of file Ali\-HLTConfiguration.h.

References f\-List\-Sources.

\footnotesize\begin{verbatim}134 {return fListSources.size();}
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GetSource@{GetSource}}
\index{GetSource@{GetSource}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration} $\ast$ Ali\-HLTConfiguration::Get\-Source (const char $\ast$ {\em id})}\label{classAliHLTConfiguration_a8}


Get a certain source. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em id}]of the source configuration \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]pointer to the corresponding configuration descriptor \end{Desc}


Definition at line 171 of file Ali\-HLTConfiguration.cxx.

References f\-List\-Sources, f\-List\-Src\-Element, Get\-First\-Source(), Get\-Name(), and Get\-Next\-Source().

Referenced by Ali\-HLTTask::Depends(), and Follow\-Dependency().

\footnotesize\begin{verbatim}172 {
173   // see header file for function documentation
174   AliHLTConfiguration* pSrc=NULL;
175   if (id) {
176     // first check the current element
177     if (fListSrcElement!=fListSources.end() && strcmp(id, (*fListSrcElement)->GetName())==0) {
178       pSrc=*fListSrcElement;
179       } else {
180       // check the list
181 
182       pSrc=GetFirstSource();
183       while (pSrc) {
184         if (strcmp(id, pSrc->GetName())==0)
185           break;
186         pSrc=GetNextSource();
187       }
188     }
189   }
190   return pSrc;
191 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GlobalDeinit@{GlobalDeinit}}
\index{GlobalDeinit@{GlobalDeinit}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Global\-Deinit ({\bf Ali\-HLTConfiguration\-Handler} $\ast$ {\em p\-Handler})\hspace{0.3cm}{\tt  [static]}}\label{classAliHLTConfiguration_e1}


Global de-init and cleanup of the global configuration handler 

Definition at line 151 of file Ali\-HLTConfiguration.cxx.

References fg\-Configuration\-Handler, HLT\_\-DEFAULT\_\-LOG\_\-KEYWORD, k\-HLTLog\-Warning, and Ali\-HLTLogging::Logging().

Referenced by Ali\-HLTSystem::$\sim$Ali\-HLTSystem().

\footnotesize\begin{verbatim}152 {
153   // see header file for function documentation
154   int iResult=0;
155   if (pHandler!=NULL && fgConfigurationHandler!=pHandler) {
156     fgConfigurationHandler->Logging(kHLTLogWarning, "AliHLTConfiguration::GlobalDeinit", HLT_DEFAULT_LOG_KEYWORD, "handler %p is not set, skip ...", pHandler);
157     return -EBADF;
158   }
159   fgConfigurationHandler=NULL;
160   return iResult;
161 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!GlobalInit@{GlobalInit}}
\index{GlobalInit@{GlobalInit}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Global\-Init ({\bf Ali\-HLTConfiguration\-Handler} $\ast$ {\em p\-Handler})\hspace{0.3cm}{\tt  [static]}}\label{classAliHLTConfiguration_e0}


Global initialization of the configuration handler. 

Definition at line 140 of file Ali\-HLTConfiguration.cxx.

References fg\-Configuration\-Handler, HLT\_\-DEFAULT\_\-LOG\_\-KEYWORD, k\-HLTLog\-Warning, and Ali\-HLTLogging::Logging().

Referenced by Class\-Imp().

\footnotesize\begin{verbatim}141 {
142   // see header file for function documentation
143   int iResult=0;
144   if (fgConfigurationHandler!=NULL) {
145     fgConfigurationHandler->Logging(kHLTLogWarning, "AliHLTConfiguration::GlobalInit", HLT_DEFAULT_LOG_KEYWORD, "configuration handler already initialized, overriding object %p with %p", fgConfigurationHandler, pHandler);
146   }
147   fgConfigurationHandler=pHandler;
148   return iResult;
149 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!InterpreteString@{InterpreteString}}
\index{InterpreteString@{InterpreteString}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Interprete\-String (const char $\ast$ {\em arg}, vector$<$ char $\ast$ $>$ \& {\em arg\-List})\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_d2}


Helper function to build a vector from an argument string \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em arg}]pointer to argument string \item[{\em arg\-List}]target to receive the argument list \end{description}
\end{Desc}


Definition at line 357 of file Ali\-HLTConfiguration.cxx.

Referenced by Extract\-Arguments(), and Extract\-Sources().

\footnotesize\begin{verbatim}358 {
359   // see header file for function documentation
360   int iResult=0;
361   if (arg) {
362     //HLTDebug("interprete \"%s\"", arg);
363     int i=0;
364     int prec=-1;
365     int bQuote=0;
366     do {
367       //HLTDebug("%d %x", i, arg[i]);
368       if (arg[i]=='\'' && bQuote==0) {
369         bQuote=1;
370       } else if (arg[i]==0 || 
371                  (arg[i]==' ' && bQuote==0) ||
372                  (arg[i]=='\'' && bQuote==1)) {
373         bQuote=0;
374         if (prec>=0) {
375           char* pEntry= new char[i-prec+1];
376           if (pEntry) {
377             strncpy(pEntry, &arg[prec], i-prec);
378             pEntry[i-prec]=0; // terminate string
379             //HLTDebug("create string \"%s\", insert at %d", pEntry, argList.size());
380             argList.push_back(pEntry);
381           } else 
382             iResult=-ENOMEM;
383           prec=-1;
384         }
385       } else if (prec==-1) prec=i;
386     } while (arg[i++]!=0 && iResult>=0); 
387   } else {
388     iResult=-EINVAL;
389   }
390   return iResult;
391 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!InvalidateSource@{InvalidateSource}}
\index{InvalidateSource@{InvalidateSource}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Invalidate\-Source ({\bf Ali\-HLTConfiguration} $\ast$ {\em p\-Conf})}\label{classAliHLTConfiguration_a14}


Invalidate a dependency and mark the configuration to be re-evaluted. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em p\-Conf}]pointer to configuration descriptor \end{description}
\end{Desc}


Definition at line 227 of file Ali\-HLTConfiguration.cxx.

References f\-List\-Sources, and f\-List\-Src\-Element.

Referenced by Ali\-HLTConfiguration\-Handler::Remove\-Configuration().

\footnotesize\begin{verbatim}228 {
229   // see header file for function documentation
230   int iResult=0;
231   if (pConf) {
232     vector<AliHLTConfiguration*>::iterator element=fListSources.begin();
233     while (element!=fListSources.end()) {
234       if (*element==pConf) {
235         fListSources.erase(element);
236         fListSrcElement=fListSources.end();
237         // there is no need to re-evaluate until there was a new configuration registered
238         // -> postpone the invalidation, its done in AliHLTConfigurationHandler::RegisterConfiguration
239         //InvalidateSources();
240         break;
241       }
242       element++;
243     }
244   } else {
245     iResult=-EINVAL;
246   }
247   return iResult;
248 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!InvalidateSources@{InvalidateSources}}
\index{InvalidateSources@{InvalidateSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Invalidate\-Sources ()\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTConfiguration_a15}


Mark the configuration to be re-evaluted. 

Definition at line 164 of file Ali\-HLTConfiguration.h.

References f\-Nof\-Sources.

Referenced by Ali\-HLTConfiguration\-Handler::Register\-Configuration(), and Ali\-HLTTask::Unset\-Dependency().

\footnotesize\begin{verbatim}164 {fNofSources=-1; return 0;}
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!operator=@{operator=}}
\index{operator=@{operator=}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration} \& Ali\-HLTConfiguration::operator= (const {\bf Ali\-HLTConfiguration} \& {\em src})}\label{classAliHLTConfiguration_a3}


assignment op 

Definition at line 98 of file Ali\-HLTConfiguration.cxx.

References f\-Argc, f\-Arguments, f\-Argv, f\-Component, f\-ID, f\-Nof\-Sources, and f\-String\-Sources.

\footnotesize\begin{verbatim}99 { 
100   // see header file for function documentation
101   fID=src.fID;
102   fComponent=src.fComponent;
103   fStringSources=src.fStringSources;
104   fNofSources=-1;
105   fArguments=src.fArguments;
106   fArgc=-1;
107   fArgv=NULL;
108   return *this;
109 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!PrintStatus@{PrintStatus}}
\index{PrintStatus@{PrintStatus}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTConfiguration::Print\-Status ()}\label{classAliHLTConfiguration_a7}


Print status info. Short summary on id, component, sources and unresolved sources. 

Definition at line 250 of file Ali\-HLTConfiguration.cxx.

References f\-Component, f\-String\-Sources, Get\-First\-Source(), Get\-Name(), Get\-Next\-Source(), HLTLog\-Keyword, HLTMessage, and Sources\-Resolved().

\footnotesize\begin{verbatim}251 {
252   // see header file for function documentation
253   HLTLogKeyword("configuration status");
254   HLTMessage("status of configuration \"%s\" (%p)", GetName(), this);
255   if (!fComponent.IsNull()) HLTMessage("  - component: \"%s\"", fComponent.Data());
256   else HLTMessage("  - component string invalid");
257   if (!fStringSources.IsNull()) HLTMessage("  - sources: \"%s\"", fStringSources.Data());
258   else HLTMessage("  - no sources");
259   if (SourcesResolved(1)<=0)
260     HLTMessage("    there are unresolved sources");
261   AliHLTConfiguration* pSrc=GetFirstSource();
262   while (pSrc) {
263     HLTMessage("    source \"%s\" (%p) resolved", pSrc->GetName(), pSrc);
264     pSrc=GetNextSource();
265   }
266 }
\end{verbatim}\normalsize 


\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!SourcesResolved@{SourcesResolved}}
\index{SourcesResolved@{SourcesResolved}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTConfiguration::Sources\-Resolved (int {\em b\-Auto} = {\tt 0})}\label{classAliHLTConfiguration_a11}


Check resolving status. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em b\-Auto}]resolve if ==1 \end{description}
\end{Desc}
\begin{Desc}
\item[Returns:]1 if all sources resolved \end{Desc}


Definition at line 215 of file Ali\-HLTConfiguration.cxx.

References Extract\-Sources(), f\-List\-Sources, and f\-Nof\-Sources.

Referenced by Ali\-HLTSystem::Build\-Task\-List(), Print\-Status(), and Ali\-HLTConfiguration\-Handler::Register\-Configuration().

\footnotesize\begin{verbatim}216 {
217   // see header file for function documentation
218   int iResult=0;
219   if (fNofSources>=0 || bAuto && (iResult=ExtractSources())>=0) {
220     //HLTDebug("fNofSources=%d", fNofSources);
221     //HLTDebug("list size = %d", fListSources.size());
222     iResult=fNofSources==(int)fListSources.size();
223   }
224   return iResult;
225 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fArgc@{fArgc}}
\index{fArgc@{fArgc}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf Ali\-HLTConfiguration::f\-Argc}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r7}


number of arguments 

Definition at line 214 of file Ali\-HLTConfiguration.h.

Referenced by Extract\-Arguments(), Get\-Arguments(), operator=(), and $\sim$Ali\-HLTConfiguration().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fArguments@{fArguments}}
\index{fArguments@{fArguments}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TString {\bf Ali\-HLTConfiguration::f\-Arguments}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r6}


The argument string as passed to the constructor. Specifies the arguments for the Analysys component. The string will be parsed and the separated arguments stored in the {\bf f\-Argv}{\rm (p.\,\pageref{classAliHLTConfiguration_r8})} array and {\bf f\-Argc}{\rm (p.\,\pageref{classAliHLTConfiguration_r7})} member. 

Definition at line 212 of file Ali\-HLTConfiguration.h.

Referenced by Extract\-Arguments(), and operator=().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fArgv@{fArgv}}
\index{fArgv@{fArgv}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}char$\ast$$\ast$ {\bf Ali\-HLTConfiguration::f\-Argv}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r8}


argument array 

Definition at line 216 of file Ali\-HLTConfiguration.h.

Referenced by Extract\-Arguments(), operator=(), and $\sim$Ali\-HLTConfiguration().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fComponent@{fComponent}}
\index{fComponent@{fComponent}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TString {\bf Ali\-HLTConfiguration::f\-Component}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r1}


component id of this configuration 

Definition at line 195 of file Ali\-HLTConfiguration.h.

Referenced by operator=(), and Print\-Status().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fgConfigurationHandler@{fgConfigurationHandler}}
\index{fgConfigurationHandler@{fgConfigurationHandler}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTConfiguration\-Handler} $\ast$ {\bf Ali\-HLTConfiguration::fg\-Configuration\-Handler} = NULL\hspace{0.3cm}{\tt  [static, private]}}\label{classAliHLTConfiguration_v0}


the instance of the global configuration handler 

Definition at line 138 of file Ali\-HLTConfiguration.cxx.

Referenced by Ali\-HLTConfiguration(), Extract\-Sources(), Global\-Deinit(), Global\-Init(), and $\sim$Ali\-HLTConfiguration().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fID@{fID}}
\index{fID@{fID}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TString {\bf Ali\-HLTConfiguration::f\-ID}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r0}


id of this configuration 

Definition at line 193 of file Ali\-HLTConfiguration.h.

Referenced by Get\-Name(), operator=(), and $\sim$Ali\-HLTConfiguration().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fListSources@{fListSources}}
\index{fListSources@{fListSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}vector$<${\bf Ali\-HLTConfiguration}$\ast$$>$ {\bf Ali\-HLTConfiguration::f\-List\-Sources}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r4}


list of sources 

Definition at line 202 of file Ali\-HLTConfiguration.h.

Referenced by Ali\-HLTConfiguration(), Extract\-Sources(), Get\-First\-Source(), Get\-Next\-Source(), Get\-Nof\-Sources(), Get\-Source(), Invalidate\-Source(), Sources\-Resolved(), and $\sim$Ali\-HLTConfiguration().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fListSrcElement@{fListSrcElement}}
\index{fListSrcElement@{fListSrcElement}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}vector$<${\bf Ali\-HLTConfiguration}$\ast$$>$::iterator {\bf Ali\-HLTConfiguration::f\-List\-Src\-Element}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r5}


iterator for the above list 

Definition at line 204 of file Ali\-HLTConfiguration.h.

Referenced by Ali\-HLTConfiguration(), Extract\-Sources(), Get\-First\-Source(), Get\-Next\-Source(), Get\-Source(), and Invalidate\-Source().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fNofSources@{fNofSources}}
\index{fNofSources@{fNofSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf Ali\-HLTConfiguration::f\-Nof\-Sources}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r3}


number of resolved sources, -1 indicates re-evaluation 

Definition at line 200 of file Ali\-HLTConfiguration.h.

Referenced by Extract\-Sources(), Get\-First\-Source(), Get\-Next\-Source(), Invalidate\-Sources(), operator=(), and Sources\-Resolved().\index{AliHLTConfiguration@{Ali\-HLTConfiguration}!fStringSources@{fStringSources}}
\index{fStringSources@{fStringSources}!AliHLTConfiguration@{Ali\-HLTConfiguration}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}TString {\bf Ali\-HLTConfiguration::f\-String\-Sources}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTConfiguration_r2}


the {\em sources\/} string as passed to the constructor 

Definition at line 198 of file Ali\-HLTConfiguration.h.

Referenced by Extract\-Sources(), operator=(), and Print\-Status().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
/home/perthi/cern/aliroot/Ali\-Root\_\-head020507/HLT/BASE/{\bf Ali\-HLTConfiguration.h}\item 
/home/perthi/cern/aliroot/Ali\-Root\_\-head020507/HLT/BASE/{\bf Ali\-HLTConfiguration.cxx}\end{CompactItemize}
