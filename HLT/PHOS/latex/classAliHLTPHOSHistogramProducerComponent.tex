\section{Ali\-HLTPHOSHistogram\-Producer\-Component Class Reference}
\label{classAliHLTPHOSHistogramProducerComponent}\index{AliHLTPHOSHistogramProducerComponent@{AliHLTPHOSHistogramProducerComponent}}
{\tt \#include $<$Ali\-HLTPHOSHistogram\-Producer\-Component.h$>$}

Inheritance diagram for Ali\-HLTPHOSHistogram\-Producer\-Component::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{classAliHLTPHOSHistogramProducerComponent}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSHistogram\-Producer\-Component} ()
\item 
virtual {\bf $\sim$Ali\-HLTPHOSHistogram\-Producer\-Component} ()
\item 
{\bf Ali\-HLTPHOSHistogram\-Producer\-Component} (const {\bf Ali\-HLTPHOSHistogram\-Producer\-Component} \&)
\item 
{\bf Ali\-HLTPHOSHistogram\-Producer\-Component} \& {\bf operator=} (const {\bf Ali\-HLTPHOSHistogram\-Producer\-Component} \&)
\item 
virtual int {\bf Do\-Init} (int argc=0, const char $\ast$$\ast$argv=0)
\item 
virtual int {\bf Deinit} ()
\item 
virtual int {\bf Do\-Deinit} ()
\item 
virtual int {\bf Do\-Event} (const {\bf Ali\-HLTComponent\-Event\-Data} \&evt\-Data, const {\bf Ali\-HLTComponent\-Block\-Data} $\ast$blocks, {\bf Ali\-HLTComponent\-Trigger\-Data} \&trig\-Data, {\bf Ali\-HLTUInt8\_\-t} $\ast$output\-Ptr, {\bf Ali\-HLTUInt32\_\-t} \&size, vector$<$ {\bf Ali\-HLTComponent\-Block\-Data} $>$ \&output\-Blocks)
\item 
void {\bf Dump\-Data} (int gain=0)
\item 
const int {\bf Get\-Equippment\-Id} () const 
\item 
virtual const char $\ast$ {\bf Get\-Component\-ID} ()
\item 
virtual void {\bf Get\-Input\-Data\-Types} (std::vector$<$ {\bf Ali\-HLTComponent\-Data\-Type} $>$ \&)
\item 
virtual {\bf Ali\-HLTComponent\-Data\-Type} {\bf Get\-Output\-Data\-Type} ()
\item 
virtual void {\bf Get\-Output\-Data\-Size} (unsigned long \&const\-Base, double \&input\-Multiplier)
\item 
void {\bf Set\-Equippment\-Id} (int id=0)
\item 
virtual {\bf Ali\-HLTComponent} $\ast$ {\bf Spawn} ()
\end{CompactItemize}
\subsection*{Protected Member Functions}
\begin{CompactItemize}
\item 
void {\bf Reset} ()
\item 
void {\bf Reset\-Data\-Ptr} ()
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
Double\_\-t {\bf f\-Energy\-Average\-Values} [N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]
\item 
Double\_\-t {\bf f\-Accumulated\-Values} [N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]
\item 
{\bf Ali\-HLTUInt32\_\-t} {\bf f\-Hits} [N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]
\item 
int {\bf f\-Event\-Count}
\item 
{\bf Ali\-HLTUInt32\_\-t} {\bf f\-Equippment\-ID}
\item 
Double\_\-t {\bf f\-Tmp\-Channel\-Data} [ALTRO\_\-MAX\_\-SAMPLES]
\item 
{\bf Ali\-HLTPHOSModule\-Cell\-Accumulated\-Energy\-Data\-Struct} $\ast$ {\bf f\-Out\-Ptr}
\end{CompactItemize}
\subsection*{Static Private Attributes}
\begin{CompactItemize}
\item 
const {\bf Ali\-HLTComponent\-Data\-Type} {\bf fgk\-Input\-Data\-Types} [$\,$] = \{{\bf k\-Ali\-HLTVoid\-Data\-Type},\{0,\char`\"{}\char`\"{},\char`\"{}\char`\"{}\}\}
\item 
const {\bf Ali\-HLTComponent\-Data\-Type} {\bf fgk\-Output\-Data\-Type} = {\bf k\-Ali\-HLTVoid\-Data\-Type}
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!AliHLTPHOSHistogramProducerComponent@{AliHLTPHOSHistogramProducerComponent}}
\index{AliHLTPHOSHistogramProducerComponent@{AliHLTPHOSHistogramProducerComponent}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSHistogram\-Producer\-Component::Ali\-HLTPHOSHistogram\-Producer\-Component ()}\label{classAliHLTPHOSHistogramProducerComponent_a0}


Default constructor 

Definition at line 41 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References Reset().

\footnotesize\begin{verbatim}41                                                                            :AliHLTProcessor(), fEventCount(0),  fEquippmentID(0)
42 {
46   Reset();
47 } 
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!~AliHLTPHOSHistogramProducerComponent@{$\sim$AliHLTPHOSHistogramProducerComponent}}
\index{~AliHLTPHOSHistogramProducerComponent@{$\sim$AliHLTPHOSHistogramProducerComponent}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSHistogram\-Producer\-Component::$\sim${\bf Ali\-HLTPHOSHistogram\-Producer\-Component} ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a1}


Default destructor 

Definition at line 50 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}51 {
55 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!AliHLTPHOSHistogramProducerComponent@{AliHLTPHOSHistogramProducerComponent}}
\index{AliHLTPHOSHistogramProducerComponent@{AliHLTPHOSHistogramProducerComponent}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSHistogram\-Producer\-Component::Ali\-HLTPHOSHistogram\-Producer\-Component (const {\bf Ali\-HLTPHOSHistogram\-Producer\-Component} \&)}\label{classAliHLTPHOSHistogramProducerComponent_a2}


Copy constructor 

Definition at line 58 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}58                                                                                                                          : AliHLTProcessor(), fEventCount(0),  fEquippmentID(0)
59 {
63 }
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!Deinit@{Deinit}}
\index{Deinit@{Deinit}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSHistogram\-Producer\-Component::Deinit ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a5}


See base class for documenation 

Reimplemented from {\bf Ali\-HLTProcessor} {\rm (p.\,\pageref{classAliHLTProcessor_a3})}.

Definition at line 67 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}68 {
72   return 0;
73 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!DoDeinit@{DoDeinit}}
\index{DoDeinit@{DoDeinit}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSHistogram\-Producer\-Component::Do\-Deinit ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a6}


Default method for the internal clean-up. The method is called by {\bf Deinit}{\rm (p.\,\pageref{classAliHLTPHOSHistogramProducerComponent_a5})} 

Reimplemented from {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_b6})}.

Definition at line 77 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References k\-HLTLog\-Info, and Ali\-HLTLogging::Logging().

\footnotesize\begin{verbatim}78 {
79   Logging(kHLTLogInfo, "HLT", "PHOS", ",AliHLTPHOSHistogramProducer DoDeinit");
80   return 0;
81 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!DoEvent@{DoEvent}}
\index{DoEvent@{DoEvent}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSHistogram\-Producer\-Component::Do\-Event (const {\bf Ali\-HLTComponent\-Event\-Data} \& {\em evt\-Data}, const {\bf Ali\-HLTComponent\-Block\-Data} $\ast$ {\em blocks}, {\bf Ali\-HLTComponent\-Trigger\-Data} \& {\em trig\-Data}, {\bf Ali\-HLTUInt8\_\-t} $\ast$ {\em output\-Ptr}, {\bf Ali\-HLTUInt32\_\-t} \& {\em size}, vector$<$ {\bf Ali\-HLTComponent\-Block\-Data} $>$ \& {\em output\-Blocks})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a7}


This fucntion takes as input cell energies as input and accumulates Energy and the number of hits on a per channel basis and fills a four dimensional array [N\_\-MODULES][N\_\-ROWS\_\-MOD][N\_\-COLUMNS\_\-MOD][N\_\-GAINS]. Energy distribution histograms (root) are updatet continioulsy and written to root files at the end of run command (actually the \char`\"{}stop\char`\"{} command) 

Reimplemented from {\bf Ali\-HLTProcessor} {\rm (p.\,\pageref{classAliHLTProcessor_d0})}.

Definition at line 130 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References Ali\-HLTUInt8\_\-t, Ali\-HLTPHOSModule\-Cell\-Accumulated\-Energy\-Data\-Struct::f\-Accumulated\-Energies, f\-Accumulated\-Values, Ali\-HLTComponent\-Event\-Data::f\-Block\-Cnt, Ali\-HLTPHOSRcu\-Cell\-Energy\-Data\-Struct::f\-Cnt, Ali\-HLTComponent\-Block\-Data::f\-Data\-Type, Ali\-HLTPHOSValid\-Cell\-Data\-Struct::f\-Energy, f\-Event\-Count, Ali\-HLTPHOSValid\-Cell\-Data\-Struct::f\-Gain, Ali\-HLTPHOSModule\-Cell\-Accumulated\-Energy\-Data\-Struct::f\-Hits, f\-Hits, Ali\-HLTComponent::Fill\-Block\-Data(), Ali\-HLTPHOSModule\-Cell\-Accumulated\-Energy\-Data\-Struct::f\-Module\-ID, Ali\-HLTPHOSRcu\-Cell\-Energy\-Data\-Struct::f\-Module\-ID, Ali\-HLTComponent\-Block\-Data::f\-Offset, f\-Out\-Ptr, Ali\-HLTComponent\-Block\-Data::f\-Ptr, Ali\-HLTPHOSRcu\-Cell\-Energy\-Data\-Struct::f\-Rcu\-X, Ali\-HLTPHOSRcu\-Cell\-Energy\-Data\-Struct::f\-Rcu\-Z, Ali\-HLTComponent\-Block\-Data::f\-Size, Ali\-HLTComponent\-Block\-Data::f\-Specification, Ali\-HLTPHOSRcu\-Cell\-Energy\-Data\-Struct::f\-Valid\-Data, Ali\-HLTPHOSValid\-Cell\-Data\-Struct::f\-X, Ali\-HLTPHOSValid\-Cell\-Data\-Struct::f\-Z, k\-HLTLog\-Fatal, Ali\-HLTLogging::Logging(), N\_\-XCOLUMNS\_\-RCU, and N\_\-ZROWS\_\-RCU.

\footnotesize\begin{verbatim}133 {
142   unsigned long ndx;
143   UInt_t offset           = 0; 
144   UInt_t mysize           = 0;
145   UInt_t tSize            = 0;
146 
147   const AliHLTComponentBlockData* iter = NULL;   
148   AliHLTPHOSRcuCellEnergyDataStruct *cellDataPtr;
149   AliHLTUInt8_t* outBPtr;
150   outBPtr = outputPtr;
151   fOutPtr =  (AliHLTPHOSModuleCellAccumulatedEnergyDataStruct*)outBPtr;
152 
153   int tmpCnt;
154   AliHLTUInt8_t tmpModuleID;
155   AliHLTUInt8_t tmpRcuX;
156   AliHLTUInt8_t tmpRcuZ;
157 
158   for( ndx = 0; ndx < evtData.fBlockCnt; ndx++ )
159     {
160       iter = blocks+ndx;
161       cellDataPtr = (AliHLTPHOSRcuCellEnergyDataStruct*)( iter->fPtr);
162       tmpCnt =  cellDataPtr->fCnt;
163 
164       tmpModuleID = cellDataPtr->fModuleID;
165       tmpRcuX     = cellDataPtr->fRcuX ;
166       tmpRcuZ     = cellDataPtr->fRcuZ;
167       fOutPtr->fModuleID = tmpModuleID;
168       int tmpGain;
169       int tmpZ;
170       int tmpX;
171 
172       //      for(int i= 0; i< tmpCnt; i ++)
173       for(int i= 0; i <= tmpCnt; i ++)
174         {
175           tmpZ =  cellDataPtr->fValidData[i].fZ + N_ZROWS_RCU*tmpRcuZ;
176           tmpX =  cellDataPtr->fValidData[i].fX + N_XCOLUMNS_RCU*tmpRcuX;
177 
178           if(cellDataPtr->fValidData[i].fGain == HIGH_GAIN)
179             {
180               fAccumulatedValues[tmpZ][tmpX][HIGH_GAIN] +=  cellDataPtr->fValidData[i].fEnergy;
181               fHits[tmpZ][tmpX][HIGH_GAIN] ++;
182             }
183           else if(cellDataPtr->fValidData[i].fGain == LOW_GAIN)
184             {
185               fAccumulatedValues[tmpZ][tmpX][LOW_GAIN] +=  cellDataPtr->fValidData[i].fEnergy;
186               fHits[tmpZ][tmpX][LOW_GAIN] ++;
187             }
188         }
189     }
190 
191 
192   for(int z=0;  z < N_ZROWS_MOD; z ++ )
193     {
194       for(int x = 0; x < N_XCOLUMNS_MOD; x ++)
195         {
196           for(int gain =0; gain < N_GAINS; gain ++)
197             {
198               fOutPtr->fAccumulatedEnergies[z][x][gain] = fAccumulatedValues[z][x][gain];
199               fOutPtr->fHits[z][x][gain] = fHits[z][x][gain];
200             }
201         } 
202     }
203 
204 
205   //pushing data to shared output memory
206   mysize += sizeof(AliHLTPHOSModuleCellAccumulatedEnergyDataStruct);
207   AliHLTComponentBlockData bd;
208   FillBlockData( bd );
209   bd.fOffset = offset;
210   bd.fSize = mysize;
211   bd.fDataType = AliHLTPHOSDefinitions::gkCellAccumulatedEnergyDataType;
212   bd.fSpecification = 0xFFFFFFFF;
213   outputBlocks.push_back( bd );
214   tSize += mysize;
215   outBPtr += mysize;
216 
217   if( tSize > size )
218     {
219       Logging( kHLTLogFatal, "HLT::AliHLTHistogramProducerComponent::DoEvent", "Too much data",
220                "Data written over allowed buffer. Amount written: %lu, allowed amount: %lu."
221                , tSize, size );
222       return EMSGSIZE;
223     }
224 
225   fEventCount++; 
226   return 0;
227 }//end DoEvent
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!DoInit@{DoInit}}
\index{DoInit@{DoInit}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLTPHOSHistogram\-Producer\-Component::Do\-Init (int {\em argc} = {\tt 0}, const char $\ast$$\ast$ {\em argv} = {\tt 0})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a4}


Default method for the internal initialization. The method is called by {\bf Init}{\rm (p.\,\pageref{classAliHLTProcessor_a2})} 

Reimplemented from {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_b5})}.

Definition at line 231 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References Reset().

\footnotesize\begin{verbatim}232 {
233   Reset();
234   if (argc==0 && argv==NULL) {
235     // this is currently just to get rid of the warning "unused parameter"
236   }
237   return 0;
238 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!DumpData@{DumpData}}
\index{DumpData@{DumpData}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Dump\-Data (int {\em gain} = {\tt 0})}\label{classAliHLTPHOSHistogramProducerComponent_a8}




Definition at line 242 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References f\-Accumulated\-Values, and N\_\-GAINS.

\footnotesize\begin{verbatim}243 {
244 
245   if(gain < 0 || gain >  N_GAINS)
246     {
247       cout <<"AliHLTPHOSHistogramProducerComponent::DumpDat: Error, gain must be between " << 0 << "and" << N_GAINS << endl;
248     }
249   
250   for(int mod = 0; mod < N_MODULES; mod ++)
251     {
252       if(gain == HIGH_GAIN)
253         {
254           cout << endl <<" ***********  MODULE" << mod << "****HIGH_GAIN" <<"************" << endl;
255         }
256       else if(gain == LOW_GAIN)
257         {
258           cout << endl <<" ***********  MODULE" << mod << "****LOW_GAIN" <<"************" << endl;
259         }
260       
261       for(int row = 0; row < N_ROWS_MOD; row ++)
262         {
263           for(int col = 0; col < N_COLUMNS_MOD; col ++)
264             {
265               if(fAccumulatedValues[row][col][0] != 0)
266                 { 
267                   cout << fAccumulatedValues[row][col][0] << "\t";
268                 }
269             }
270         } 
271     }
272 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!GetComponentID@{GetComponentID}}
\index{GetComponentID@{GetComponentID}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const char $\ast$ Ali\-HLTPHOSHistogram\-Producer\-Component::Get\-Component\-ID ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a10}


See base class for documenation 

Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a9})}.

Definition at line 85 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}86 {
90   return "HistogramProducer";
91 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!GetEquippmentId@{GetEquippmentId}}
\index{GetEquippmentId@{GetEquippmentId}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const int Ali\-HLTPHOSHistogram\-Producer\-Component::Get\-Equippment\-Id () const}\label{classAliHLTPHOSHistogramProducerComponent_a9}




Definition at line 317 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}318 {
319   return  fEquippmentID;
320 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!GetInputDataTypes@{GetInputDataTypes}}
\index{GetInputDataTypes@{GetInputDataTypes}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Get\-Input\-Data\-Types (std::vector$<$ {\bf Ali\-HLTComponent\-Data\-Type} $>$ \& {\em list})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a11}


See base class for documenation 

Definition at line 95 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References Ali\-HLTComponent\-Data\-Type::f\-ID.

\footnotesize\begin{verbatim}96 {
100   const AliHLTComponentDataType* pType=fgkInputDataTypes;
101   while (pType->fID!=0) 
102     {
103       list.push_back(*pType);
104       pType++;
105     }
106 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!GetOutputDataSize@{GetOutputDataSize}}
\index{GetOutputDataSize@{GetOutputDataSize}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Get\-Output\-Data\-Size (unsigned long \& {\em const\-Base}, double \& {\em input\-Multiplier})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a13}


See base class for documenation 

Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a12})}.

Definition at line 120 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}121 {
125   constBase = 30;
126   inputMultiplier = 1;
127 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!GetOutputDataType@{GetOutputDataType}}
\index{GetOutputDataType@{GetOutputDataType}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTComponent\-Data\-Type} Ali\-HLTPHOSHistogram\-Producer\-Component::Get\-Output\-Data\-Type ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a12}


See base class for documenation 

Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a11})}.

Definition at line 110 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}111 {
115   return AliHLTPHOSDefinitions::gkCellEnergyDataType;
116 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!operator=@{operator=}}
\index{operator=@{operator=}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTPHOSHistogram\-Producer\-Component}\& Ali\-HLTPHOSHistogram\-Producer\-Component::operator= (const {\bf Ali\-HLTPHOSHistogram\-Producer\-Component} \&)\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTPHOSHistogramProducerComponent_a3}




Definition at line 21 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

\footnotesize\begin{verbatim}22    {
23       return *this;
24    };
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!Reset@{Reset}}
\index{Reset@{Reset}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Reset ()\hspace{0.3cm}{\tt  [protected]}}\label{classAliHLTPHOSHistogramProducerComponent_b0}




Definition at line 277 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References f\-Accumulated\-Values, f\-Hits, and f\-Tmp\-Channel\-Data.

Referenced by Ali\-HLTPHOSHistogram\-Producer\-Component(), and Do\-Init().

\footnotesize\begin{verbatim}278 {
279   for(int mod = 0; mod < N_MODULES; mod ++)
280     {
281       for(int row = 0; row <  N_ROWS_MOD; row ++)
282         {
283           for(int col = 0; col < N_COLUMNS_MOD; col ++)
284             {
285               for(int gain = 0; gain < N_GAINS; gain ++ )
286                 { 
287                   fAccumulatedValues[row][col][gain] = 0;
288                   fHits[row][col][gain] = 0;      
289                 }
290             }
291         }
292     }
293 
294   for(int i = 0 ; i<  ALTRO_MAX_SAMPLES; i++)
295     {
296       fTmpChannelData[i] = 0;
297     }
298 } // end Reset
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!ResetDataPtr@{ResetDataPtr}}
\index{ResetDataPtr@{ResetDataPtr}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Reset\-Data\-Ptr ()\hspace{0.3cm}{\tt  [protected]}}\label{classAliHLTPHOSHistogramProducerComponent_b1}




Definition at line 301 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References f\-Tmp\-Channel\-Data.

\footnotesize\begin{verbatim}302 {
303   for(int i = 0 ; i<  ALTRO_MAX_SAMPLES; i++)
304     {
305       fTmpChannelData[i] = 0;
306     }
307 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!SetEquippmentId@{SetEquippmentId}}
\index{SetEquippmentId@{SetEquippmentId}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSHistogram\-Producer\-Component::Set\-Equippment\-Id (int {\em id} = {\tt 0})}\label{classAliHLTPHOSHistogramProducerComponent_a14}




Definition at line 311 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

References f\-Equippment\-ID.

\footnotesize\begin{verbatim}312 {
313   fEquippmentID = id;
314 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!Spawn@{Spawn}}
\index{Spawn@{Spawn}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTComponent} $\ast$ Ali\-HLTPHOSHistogram\-Producer\-Component::Spawn ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSHistogramProducerComponent_a15}


Spawn function. Each component must implement a spawn function to create a new instance of the class. Basically the function must return {\em new {\bf my\_\-class\_\-name}\/}. \begin{Desc}
\item[Returns:]new class instance \end{Desc}


Implements {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_a13})}.

Definition at line 324 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.

\footnotesize\begin{verbatim}325 {
326   return new AliHLTPHOSHistogramProducerComponent;
327 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fAccumulatedValues@{fAccumulatedValues}}
\index{fAccumulatedValues@{fAccumulatedValues}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Accumulated\-Values}[N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r1}


Accumulated energy for each readout channel of one RCU 

Definition at line 50 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Do\-Event(), Dump\-Data(), and Reset().\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fEnergyAverageValues@{fEnergyAverageValues}}
\index{fEnergyAverageValues@{fEnergyAverageValues}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Energy\-Average\-Values}[N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r0}


Accumulated energy divided by the number of hits for each readout channel 

Definition at line 49 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fEquippmentID@{fEquippmentID}}
\index{fEquippmentID@{fEquippmentID}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt32\_\-t} {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Equippment\-ID}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r4}


Eguippment ID as defined by ALICE 

Definition at line 54 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Set\-Equippment\-Id().\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fEventCount@{fEventCount}}
\index{fEventCount@{fEventCount}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Event\-Count}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r3}


Event counter, (mainly used for debugging) 

Reimplemented from {\bf Ali\-HLTComponent} {\rm (p.\,\pageref{classAliHLTComponent_r2})}.

Definition at line 53 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Do\-Event().\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fgkInputDataTypes@{fgkInputDataTypes}}
\index{fgkInputDataTypes@{fgkInputDataTypes}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const {\bf Ali\-HLTComponent\-Data\-Type} {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::fgk\-Input\-Data\-Types} = \{{\bf k\-Ali\-HLTVoid\-Data\-Type},\{0,\char`\"{}\char`\"{},\char`\"{}\char`\"{}\}\}\hspace{0.3cm}{\tt  [static, private]}}\label{classAliHLTPHOSHistogramProducerComponent_v0}


List of datatypes that can be given to this component 

Definition at line 28 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fgkOutputDataType@{fgkOutputDataType}}
\index{fgkOutputDataType@{fgkOutputDataType}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const {\bf Ali\-HLTComponent\-Data\-Type} {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::fgk\-Output\-Data\-Type} = {\bf k\-Ali\-HLTVoid\-Data\-Type}\hspace{0.3cm}{\tt  [static, private]}}\label{classAliHLTPHOSHistogramProducerComponent_v1}


Output datatype produced by this component 

Definition at line 29 of file Ali\-HLTPHOSHistogram\-Producer\-Component.cxx.\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fHits@{fHits}}
\index{fHits@{fHits}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTUInt32\_\-t} {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Hits}[N\_\-ZROWS\_\-MOD][N\_\-XCOLUMNS\_\-MOD][N\_\-GAINS]\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r2}


Total number of hits for each cell of one RCU 

Definition at line 52 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Do\-Event(), and Reset().\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fOutPtr@{fOutPtr}}
\index{fOutPtr@{fOutPtr}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTPHOSModule\-Cell\-Accumulated\-Energy\-Data\-Struct}$\ast$ {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Out\-Ptr}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r6}


Pointer to outputbuffer to write results from the component into shared memory 

Definition at line 56 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Do\-Event().\index{AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}!fTmpChannelData@{fTmpChannelData}}
\index{fTmpChannelData@{fTmpChannelData}!AliHLTPHOSHistogramProducerComponent@{Ali\-HLTPHOSHistogram\-Producer\-Component}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t {\bf Ali\-HLTPHOSHistogram\-Producer\-Component::f\-Tmp\-Channel\-Data}[ALTRO\_\-MAX\_\-SAMPLES]\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSHistogramProducerComponent_r5}


Array to temporarily store dat fro a single altro channel 

Definition at line 55 of file Ali\-HLTPHOSHistogram\-Producer\-Component.h.

Referenced by Reset(), and Reset\-Data\-Ptr().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSHistogram\-Producer\-Component.h}\item 
{\bf Ali\-HLTPHOSHistogram\-Producer\-Component.cxx}\end{CompactItemize}
