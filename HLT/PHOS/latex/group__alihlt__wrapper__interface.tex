\section{The HLT wrapper interface}
\label{group__alihlt__wrapper__interface}\index{The HLT wrapper interface@{The HLT wrapper interface}}


\subsection{Detailed Description}
The wrapper interface is a pure C interface which allows to use the analysis components in external applications. The interface is utilized to bind the analysis code to the Pub\-Sub framework.



\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef void $\ast$ {\bf Ali\-HLTComponent\-Handle}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int {\bf Ali\-HLT\_\-C\_\-Component\_\-Init\-System} ({\bf Ali\-HLTComponent\-Environment} $\ast$environ)
\item 
int {\bf Ali\-HLT\_\-C\_\-Component\_\-Deinit\-System} ()
\item 
int {\bf Ali\-HLT\_\-C\_\-Component\_\-Load\-Library} (const char $\ast$library\-Path)
\item 
int {\bf Ali\-HLT\_\-C\_\-Component\_\-Unload\-Library} (const char $\ast$library\-Path)
\item 
int {\bf Ali\-HLT\_\-C\_\-Create\-Component} (const char $\ast$component\-Type, void $\ast$environ\_\-param, int argc, const char $\ast$$\ast$argv, {\bf Ali\-HLTComponent\-Handle} $\ast$handle)
\item 
void {\bf Ali\-HLT\_\-C\_\-Destroy\-Component} ({\bf Ali\-HLTComponent\-Handle})
\item 
int {\bf Ali\-HLT\_\-C\_\-Process\-Event} ({\bf Ali\-HLTComponent\-Handle} handle, const {\bf Ali\-HLTComponent\_\-Event\-Data} $\ast$evt\-Data, const {\bf Ali\-HLTComponent\_\-Block\-Data} $\ast$blocks, {\bf Ali\-HLTComponent\_\-Trigger\-Data} $\ast$trig\-Data, {\bf Ali\-HLTUInt8\_\-t} $\ast$output\-Ptr, {\bf Ali\-HLTUInt32\_\-t} $\ast$size, {\bf Ali\-HLTUInt32\_\-t} $\ast$output\-Block\-Cnt, {\bf Ali\-HLTComponent\_\-Block\-Data} $\ast$$\ast$output\-Blocks, {\bf Ali\-HLTComponent\_\-Event\-Done\-Data} $\ast$$\ast$edd)
\item 
int {\bf Ali\-HLT\_\-C\_\-Get\-Output\-Data\-Type} ({\bf Ali\-HLTComponent\-Handle}, {\bf Ali\-HLTComponent\_\-Data\-Type} $\ast$data\-Type)
\item 
int {\bf Ali\-HLT\_\-C\_\-Get\-Output\-Size} ({\bf Ali\-HLTComponent\-Handle}, unsigned long $\ast$const\-Base, double $\ast$input\-Multiplier)
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
const {\bf Ali\-HLTComponent\-Handle} {\bf k\-Empty\-HLTComponent\-Handle} = 0
\end{CompactItemize}


\subsection{Typedef Documentation}
\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLTComponentHandle@{AliHLTComponentHandle}}
\index{AliHLTComponentHandle@{AliHLTComponentHandle}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef void$\ast$ {\bf Ali\-HLTComponent\-Handle}}\label{group__alihlt__wrapper__interface_ga0}




Definition at line 49 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.h.

\subsection{Function Documentation}
\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_Component_DeinitSystem@{AliHLT\_\-C\_\-Component\_\-DeinitSystem}}
\index{AliHLT_C_Component_DeinitSystem@{AliHLT\_\-C\_\-Component\_\-DeinitSystem}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Component\_\-Deinit\-System ()}\label{group__alihlt__wrapper__interface_ga3}




Definition at line 51 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References g\-Component\-Handler\_\-C.

\footnotesize\begin{verbatim}52 {
53   if ( gComponentHandler_C )
54     {
55       delete gComponentHandler_C;
56       gComponentHandler_C = NULL;
57     }
58   return 0;
59 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_Component_InitSystem@{AliHLT\_\-C\_\-Component\_\-InitSystem}}
\index{AliHLT_C_Component_InitSystem@{AliHLT\_\-C\_\-Component\_\-InitSystem}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Component\_\-Init\-System ({\bf Ali\-HLTComponent\-Environment} $\ast$ {\em environ})}\label{group__alihlt__wrapper__interface_ga2}




Definition at line 37 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent\-Handler::Announce\-Version(), g\-Component\-Handler\_\-C, and Ali\-HLTLogging::Init\-Ali\-Log\-Trap().

\footnotesize\begin{verbatim}38 {
39   if ( gComponentHandler_C )
40     {
41       return EINPROGRESS;
42     }
43   gComponentHandler_C = new AliHLTComponentHandler(environ);
44   if ( !gComponentHandler_C )
45     return EFAULT;
46   gComponentHandler_C->InitAliLogTrap(gComponentHandler_C);
47   gComponentHandler_C->AnnounceVersion();
48   return 0;
49 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_Component_LoadLibrary@{AliHLT\_\-C\_\-Component\_\-LoadLibrary}}
\index{AliHLT_C_Component_LoadLibrary@{AliHLT\_\-C\_\-Component\_\-LoadLibrary}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Component\_\-Load\-Library (const char $\ast$ {\em library\-Path})}\label{group__alihlt__wrapper__interface_ga4}




Definition at line 61 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References g\-Component\-Handler\_\-C, and Ali\-HLTComponent\-Handler::Load\-Library().

\footnotesize\begin{verbatim}62 {
63   if ( !gComponentHandler_C )
64     return ENXIO;
65   return gComponentHandler_C->LoadLibrary( libraryPath );
66 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_Component_UnloadLibrary@{AliHLT\_\-C\_\-Component\_\-UnloadLibrary}}
\index{AliHLT_C_Component_UnloadLibrary@{AliHLT\_\-C\_\-Component\_\-UnloadLibrary}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Component\_\-Unload\-Library (const char $\ast$ {\em library\-Path})}\label{group__alihlt__wrapper__interface_ga5}




Definition at line 68 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References g\-Component\-Handler\_\-C, and Ali\-HLTComponent\-Handler::Unload\-Library().

\footnotesize\begin{verbatim}69 {
70   if ( !gComponentHandler_C )
71     return ENXIO;
72   return gComponentHandler_C->UnloadLibrary( libraryPath );
73 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_CreateComponent@{AliHLT\_\-C\_\-CreateComponent}}
\index{AliHLT_C_CreateComponent@{AliHLT\_\-C\_\-CreateComponent}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Create\-Component (const char $\ast$ {\em component\-Type}, void $\ast$ {\em environ\_\-param}, int {\em argc}, const char $\ast$$\ast$ {\em argv}, {\bf Ali\-HLTComponent\-Handle} $\ast$ {\em handle})}\label{group__alihlt__wrapper__interface_ga6}




Definition at line 75 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent\-Handler::Create\-Component(), and g\-Component\-Handler\_\-C.

\footnotesize\begin{verbatim}76 {
77   if ( !gComponentHandler_C )
78     return ENXIO;
79   AliHLTComponent* comp;
80   int ret = gComponentHandler_C->CreateComponent( componentType, environ_param, argc, argv, comp );
81   *handle = reinterpret_cast<AliHLTComponentHandle>( comp );
82   return ret;
83 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_DestroyComponent@{AliHLT\_\-C\_\-DestroyComponent}}
\index{AliHLT_C_DestroyComponent@{AliHLT\_\-C\_\-DestroyComponent}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLT\_\-C\_\-Destroy\-Component ({\bf Ali\-HLTComponent\-Handle})}\label{group__alihlt__wrapper__interface_ga7}




Definition at line 85 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent::Deinit().

\footnotesize\begin{verbatim}86 {
87   if ( !handle )
88     return;
89   
90   AliHLTComponent* pComp=reinterpret_cast<AliHLTComponent*>( handle );
91   pComp->Deinit();
92   delete pComp;
93 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_GetOutputDataType@{AliHLT\_\-C\_\-GetOutputDataType}}
\index{AliHLT_C_GetOutputDataType@{AliHLT\_\-C\_\-GetOutputDataType}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Get\-Output\-Data\-Type ({\bf Ali\-HLTComponent\-Handle}, {\bf Ali\-HLTComponent\_\-Data\-Type} $\ast$ {\em data\-Type})}\label{group__alihlt__wrapper__interface_ga9}




Definition at line 107 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent\_\-Data\-Type, and Ali\-HLTComponent::Get\-Output\-Data\-Type().

\footnotesize\begin{verbatim}108 {
109   if ( !handle )
110     return ENXIO;
111   AliHLTComponent* comp = reinterpret_cast<AliHLTComponent*>( handle );
112   *dataType = comp->GetOutputDataType();
113   return 0;
114 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_GetOutputSize@{AliHLT\_\-C\_\-GetOutputSize}}
\index{AliHLT_C_GetOutputSize@{AliHLT\_\-C\_\-GetOutputSize}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Get\-Output\-Size ({\bf Ali\-HLTComponent\-Handle}, unsigned long $\ast$ {\em const\-Base}, double $\ast$ {\em input\-Multiplier})}\label{group__alihlt__wrapper__interface_ga10}




Definition at line 116 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent::Get\-Output\-Data\-Size().

\footnotesize\begin{verbatim}117 {
118   if ( !handle )
119     return ENXIO;
120   AliHLTComponent* comp = reinterpret_cast<AliHLTComponent*>( handle );
121   comp->GetOutputDataSize( *constBase, *inputMultiplier );
122   return 0;
123 }
\end{verbatim}\normalsize 


\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!AliHLT_C_ProcessEvent@{AliHLT\_\-C\_\-ProcessEvent}}
\index{AliHLT_C_ProcessEvent@{AliHLT\_\-C\_\-ProcessEvent}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int Ali\-HLT\_\-C\_\-Process\-Event ({\bf Ali\-HLTComponent\-Handle} {\em handle}, const {\bf Ali\-HLTComponent\_\-Event\-Data} $\ast$ {\em evt\-Data}, const {\bf Ali\-HLTComponent\_\-Block\-Data} $\ast$ {\em blocks}, {\bf Ali\-HLTComponent\_\-Trigger\-Data} $\ast$ {\em trig\-Data}, {\bf Ali\-HLTUInt8\_\-t} $\ast$ {\em output\-Ptr}, {\bf Ali\-HLTUInt32\_\-t} $\ast$ {\em size}, {\bf Ali\-HLTUInt32\_\-t} $\ast$ {\em output\-Block\-Cnt}, {\bf Ali\-HLTComponent\_\-Block\-Data} $\ast$$\ast$ {\em output\-Blocks}, {\bf Ali\-HLTComponent\_\-Event\-Done\-Data} $\ast$$\ast$ {\em edd})}\label{group__alihlt__wrapper__interface_ga8}




Definition at line 95 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.cxx.

References Ali\-HLTComponent\_\-Block\-Data, Ali\-HLTComponent\_\-Event\-Data, Ali\-HLTComponent\_\-Event\-Done\-Data, Ali\-HLTComponent\_\-Trigger\-Data, and Ali\-HLTComponent::Process\-Event().

\footnotesize\begin{verbatim}100 {
101   if ( !handle )
102     return ENXIO;
103   AliHLTComponent* comp = reinterpret_cast<AliHLTComponent*>( handle );
104   return comp->ProcessEvent( *evtData, blocks, *trigData, outputPtr, *size, *outputBlockCnt, *outputBlocks, *edd );
105 }
\end{verbatim}\normalsize 




\subsection{Variable Documentation}
\index{alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}!kEmptyHLTComponentHandle@{kEmptyHLTComponentHandle}}
\index{kEmptyHLTComponentHandle@{kEmptyHLTComponentHandle}!alihlt_wrapper_interface@{alihlt\_\-wrapper\_\-interface}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const {\bf Ali\-HLTComponent\-Handle} {\bf k\-Empty\-HLTComponent\-Handle} = 0}\label{group__alihlt__wrapper__interface_ga1}




Definition at line 55 of file Ali\-HLT\_\-C\_\-Component\_\-Wrapper\-Interface.h.