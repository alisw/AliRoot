\section{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder Class Reference}
\label{classAliHLTPHOSRawAnalyzerPeakFinder}\index{AliHLTPHOSRawAnalyzerPeakFinder@{AliHLTPHOSRawAnalyzerPeakFinder}}
{\tt \#include $<$Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h$>$}

Inheritance diagram for Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2cm]{classAliHLTPHOSRawAnalyzerPeakFinder}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} ()
\item 
{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} (const {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} \&)
\item 
{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} \& {\bf operator=} (const {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder})
\item 
virtual {\bf $\sim$Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} ()
\item 
virtual void {\bf Set\-TVector} (Double\_\-t $\ast$t\-Vect\-Ptr=0, Int\_\-t size=0)
\item 
virtual void {\bf Set\-AVector} (Double\_\-t $\ast$a\-Vect\-Ptr=0, Int\_\-t size=0)
\item 
virtual void {\bf Evaluate} (Int\_\-t start=0, Int\_\-t length=100)
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
Double\_\-t $\ast$ {\bf f\-TVector\-Ptr}
\item 
Double\_\-t $\ast$ {\bf f\-AVector\-Ptr}
\item 
Int\_\-t {\bf f\-TVector\-Size}
\item 
Int\_\-t {\bf f\-AVector\-Size}
\end{CompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!AliHLTPHOSRawAnalyzerPeakFinder@{AliHLTPHOSRawAnalyzerPeakFinder}}
\index{AliHLTPHOSRawAnalyzerPeakFinder@{AliHLTPHOSRawAnalyzerPeakFinder}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder ()}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a0}


The Ali\-HLTPHOSPeakfinder class is the class for extracting the basic signal parameters \char`\"{}timing\char`\"{} and \char`\"{}energy\char`\"{} from the PHOS raw data. Physical data will for a given readout channel be a sequense of ADC digitized 10 bit integer values, however for performance reasons all values used in calculation is of type double. 

Definition at line 42 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx.

\footnotesize\begin{verbatim}42                                                                 :AliHLTPHOSRawAnalyzer(), fTVectorPtr(0), fAVectorPtr(0), fTVectorSize(0), fAVectorSize(0)
43 {
44   //  cout <<"PeakFinder:You cannot invoke the Fitter without arguments"<<endl;;
45 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!AliHLTPHOSRawAnalyzerPeakFinder@{AliHLTPHOSRawAnalyzerPeakFinder}}
\index{AliHLTPHOSRawAnalyzerPeakFinder@{AliHLTPHOSRawAnalyzerPeakFinder}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder (const {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} \&)}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a1}


\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!~AliHLTPHOSRawAnalyzerPeakFinder@{$\sim$AliHLTPHOSRawAnalyzerPeakFinder}}
\index{~AliHLTPHOSRawAnalyzerPeakFinder@{$\sim$AliHLTPHOSRawAnalyzerPeakFinder}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::$\sim${\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder} ()\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a3}




Definition at line 49 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx.

\footnotesize\begin{verbatim}50 {
51 
52 } //end AliHLTPHOSRawAnalyzerPeakFinder
\end{verbatim}\normalsize 




\subsection{Member Function Documentation}
\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!Evaluate@{Evaluate}}
\index{Evaluate@{Evaluate}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::Evaluate (Int\_\-t {\em start} = {\tt 0}, Int\_\-t {\em length} = {\tt 100})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a6}


Extraction of timing and energy using the Peakfinde Algorithm. The. The parameters \char`\"{}start\char`\"{} and \char`\"{}length\char`\"{} defines a sub array of the data array that will be used for the the fit. If start+length must not exeed the total length of the Data array. \char`\"{}start\char`\"{} must be chosen as close as possible to t0. The baseline must also be subtracted. The length of \char`\"{}t\-Vector\char`\"{} and \char`\"{}a\-Vector\char`\"{} mus be equal to length. \char`\"{}index + length\char`\"{} must not exeed the length of the data array set in the constructor. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em start}]the start index of the subarray of the data array. \item[{\em length}]the number of samples to use starting from index \end{description}
\end{Desc}


Implements {\bf Ali\-HLTPHOSRaw\-Analyzer} {\rm (p.\,\pageref{classAliHLTPHOSRawAnalyzer_a17})}.

Definition at line 93 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx.

References f\-AVector\-Ptr, f\-TVector\-Ptr, and Ali\-HLTPHOSRaw\-Analyzer::Get\-Max\-Value().

Referenced by main().

\footnotesize\begin{verbatim}94 {
95   fDTof = 0;
96   fDAmpl = 0;
97   Int_t tmpLength;
98 
99   if(fTVectorPtr == 0 || fAVectorPtr == 0)
100     {
101 
102     }
103   else
104     {
105  
106      
107       if(length <  fTVectorSize)
108         {
109           tmpLength = length;
110         }
111       else
112         {
113           tmpLength = fTVectorSize;
114         }
115       
116       for(int i=0; i < tmpLength; i++)
117         {  
118           fDAmpl += fAVectorPtr[i]*fFloatDataPtr[i];    
119         }
120 
121       for(int i=0; i < tmpLength; i++)
122         {   
123           fDTof += fTVectorPtr[i]*fFloatDataPtr[i]; 
124         }
125       
126       if(fDAmpl > 900)
127         {
128           Double_t tmpMax = GetMaxValue(fFloatDataPtr, tmpLength);
129           if(tmpMax == 1023)
130             {
131               fDAmpl = tmpMax;
132             }
133         }
134 
135       fDTof = fDTof/fDAmpl;
136 
137     }
138 } //end Evaluate
\end{verbatim}\normalsize 


\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!operator=@{operator=}}
\index{operator=@{operator=}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}\& Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::operator= (const  {\em Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder})\hspace{0.3cm}{\tt  [inline]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a2}




Definition at line 15 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h.

\footnotesize\begin{verbatim}16     {
17       return *this; 
18     }
\end{verbatim}\normalsize 


\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!SetAVector@{SetAVector}}
\index{SetAVector@{SetAVector}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::Set\-AVector (Double\_\-t $\ast$ {\em a\-Vect\-Ptr} = {\tt 0}, Int\_\-t {\em size} = {\tt 0})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a5}


Extraction of timing and energy using the Peakfinde Algorithm. The. The parameters \char`\"{}start\char`\"{} and \char`\"{}length\char`\"{} defines a sub array of the data array that will be used for the the fit. If start+length must not exeed the total length of the Data array. \char`\"{}start\char`\"{} must be chosen as close as possible to t0. The baseline must also be subtracted. The length of \char`\"{}t\-Vector\char`\"{} and \char`\"{}a\-Vector\char`\"{} mus be equal to length. \char`\"{}index + length\char`\"{} must not exeed the length of the data array set in the constructor. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em a\-Vect\-Ptr}]the peakfinder vector for timing \item[{\em size}]size in number of values of the time vector \end{description}
\end{Desc}


Reimplemented from {\bf Ali\-HLTPHOSRaw\-Analyzer} {\rm (p.\,\pageref{classAliHLTPHOSRawAnalyzer_a16})}.

Definition at line 74 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx.

References f\-AVector\-Ptr, and f\-AVector\-Size.

Referenced by main().

\footnotesize\begin{verbatim}75 {
76     
77   fAVectorSize = size;
78 
79   if(fAVectorPtr != 0)
80     {
81       delete fAVectorPtr;
82     }
83   
84   fAVectorPtr = new Double_t[size];
85 
86   for(int i=0; i< size; i++)
87     {
88       fAVectorPtr[i] = aVec[i];
89     }
90 }
\end{verbatim}\normalsize 


\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!SetTVector@{SetTVector}}
\index{SetTVector@{SetTVector}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::Set\-TVector (Double\_\-t $\ast$ {\em t\-Vect\-Ptr} = {\tt 0}, Int\_\-t {\em size} = {\tt 0})\hspace{0.3cm}{\tt  [virtual]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_a4}


Extraction of timing and energy using the Peakfinde Algorithm. The. The parameters \char`\"{}start\char`\"{} and \char`\"{}length\char`\"{} defines a sub array of the data array that will be used for the the fit. If start+length must not exeed the total length of the Data array. \char`\"{}start\char`\"{} must be chosen as close as possible to t0. The baseline must also be subtracted. The length of \char`\"{}t\-Vector\char`\"{} and \char`\"{}a\-Vector\char`\"{} mus be equal to length. \char`\"{}index + length\char`\"{} must not exeed the length of the data array set in the constructor. \begin{Desc}
\item[Parameters:]
\begin{description}
\item[{\em t\-Vect\-Ptr}]the peakfinder vector for timing \item[{\em size}]size in number of values of the time vector \end{description}
\end{Desc}


Reimplemented from {\bf Ali\-HLTPHOSRaw\-Analyzer} {\rm (p.\,\pageref{classAliHLTPHOSRawAnalyzer_a15})}.

Definition at line 55 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx.

References f\-TVector\-Ptr, and f\-TVector\-Size.

Referenced by main().

\footnotesize\begin{verbatim}56 {
57   fTVectorSize = size;
58 
59   if(fTVectorPtr != 0)
60     {
61       delete fTVectorPtr;
62     }
63   
64   fTVectorPtr = new Double_t[size];
65 
66   for(int i=0; i< size; i++)
67     {
68       fTVectorPtr[i] = tVec[i];
69     }
70 }
\end{verbatim}\normalsize 




\subsection{Member Data Documentation}
\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!fAVectorPtr@{fAVectorPtr}}
\index{fAVectorPtr@{fAVectorPtr}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t$\ast$ {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::f\-AVector\-Ptr}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_r1}




Definition at line 65 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h.

Referenced by Evaluate(), and Set\-AVector().\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!fAVectorSize@{fAVectorSize}}
\index{fAVectorSize@{fAVectorSize}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Int\_\-t {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::f\-AVector\-Size}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_r3}




Definition at line 67 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h.

Referenced by Set\-AVector().\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!fTVectorPtr@{fTVectorPtr}}
\index{fTVectorPtr@{fTVectorPtr}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Double\_\-t$\ast$ {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::f\-TVector\-Ptr}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_r0}




Definition at line 64 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h.

Referenced by Evaluate(), and Set\-TVector().\index{AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}!fTVectorSize@{fTVectorSize}}
\index{fTVectorSize@{fTVectorSize}!AliHLTPHOSRawAnalyzerPeakFinder@{Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}Int\_\-t {\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder::f\-TVector\-Size}\hspace{0.3cm}{\tt  [private]}}\label{classAliHLTPHOSRawAnalyzerPeakFinder_r2}




Definition at line 66 of file Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h.

Referenced by Set\-TVector().

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.h}\item 
{\bf Ali\-HLTPHOSRaw\-Analyzer\-Peak\-Finder.cxx}\end{CompactItemize}
