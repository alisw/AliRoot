// How to run expert QA
// using performance components.
// 
// By default 6 performance components are added to 
// the output: 
1. AliPerformanceRes (TPC track resolution at DCA)
2. AliPerformanceResTPCInner (TPC track resolution at inner TPC wall)
3. AliPerformanceEff (TPC track reconstruction efficieny)
4. AliPerformanceDEdxTPCInner (TPC dEdx response - track parameters at TPC inner wall)
5. AliPerformanceDCA (TPC impact parameter resolution at DCA)
6. AliPerformanceTPC (TPC cluster and track information)

// OPTIONS to run components on train:

ALL - all TPC performance components
RES - TPC resolution components
EFF - TPC efficiency component
DEDX - TPC dedx component
DCA - TPC DCA component

//
// Quick Start:
// 

1. go to working directory
cd $ALICE_ROOT/PWG1/macros

2. run performance train (trains) on resonable statistics (estimate output size)
aliroot -q -b  RunPerformanceTrain.C'("list_PbPb_EMCAL_small.txt","ALL",2)'

3. merge output files (if necessary)
aliroot -q -b MergeOutput.C'("outList.txt","ALL",2)';

4. analyse and print output histograms (e.g. AliPerformanceEff component)

aliroot

TFile f("TPC.Performance.Merged.root");
AliPerformanceEff * compObjEff = (AliPerformanceEff*)coutput->FindObject("AliPerformanceEff");
compObjEff->Analyse();
compObjEff->GetAnalysisFolder()->ls("*");
// create pictures
compObjEff->PrintHisto(kTRUE,"PerformanceEffQA.ps");
// store output QA histograms in file
TFile fout("PerformanceEffQAHisto.root","recreate");
compObjEff->GetAnalysisFolder()->Write();
fout.Close();
f.Close();
